<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=cGvuclDC_Z1vE_cnVEU6Ae_NZQ7StBcqH_vXVqoPMX0');ul.lst-kix_59cwpstquhir-0{list-style-type:none}.lst-kix_mzdqbryq6jx5-6>li:before{content:"\0025cf  "}.lst-kix_mzdqbryq6jx5-7>li:before{content:"\0025cb  "}ul.lst-kix_p2i2djphr8cn-8{list-style-type:none}ul.lst-kix_59cwpstquhir-4{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-1{list-style-type:none}ul.lst-kix_p2i2djphr8cn-7{list-style-type:none}ul.lst-kix_59cwpstquhir-3{list-style-type:none}.lst-kix_mzdqbryq6jx5-4>li:before{content:"\0025cb  "}.lst-kix_mzdqbryq6jx5-8>li:before{content:"\0025a0  "}ul.lst-kix_iv67mwnkt0ou-0{list-style-type:none}ul.lst-kix_59cwpstquhir-2{list-style-type:none}ul.lst-kix_59cwpstquhir-1{list-style-type:none}ul.lst-kix_59cwpstquhir-8{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-5{list-style-type:none}.lst-kix_5xw6kslyeabv-0>li:before{content:"\0025cf  "}ul.lst-kix_59cwpstquhir-7{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-4{list-style-type:none}ul.lst-kix_59cwpstquhir-6{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-3{list-style-type:none}.lst-kix_wcg34dhrjlda-0>li:before{content:"\0025cf  "}ul.lst-kix_59cwpstquhir-5{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-2{list-style-type:none}.lst-kix_mzdqbryq6jx5-5>li:before{content:"\0025a0  "}ul.lst-kix_iv67mwnkt0ou-8{list-style-type:none}ul.lst-kix_iv67mwnkt0ou-7{list-style-type:none}.lst-kix_wcg34dhrjlda-1>li:before{content:"\0025cb  "}ul.lst-kix_iv67mwnkt0ou-6{list-style-type:none}.lst-kix_wcg34dhrjlda-2>li:before{content:"\0025a0  "}.lst-kix_wcg34dhrjlda-4>li:before{content:"\0025cb  "}.lst-kix_wcg34dhrjlda-3>li:before{content:"\0025cf  "}.lst-kix_wcg34dhrjlda-7>li:before{content:"\0025cb  "}ul.lst-kix_l6ree99vh8ok-3{list-style-type:none}ul.lst-kix_l6ree99vh8ok-4{list-style-type:none}ul.lst-kix_l6ree99vh8ok-5{list-style-type:none}.lst-kix_wcg34dhrjlda-6>li:before{content:"\0025cf  "}ul.lst-kix_l6ree99vh8ok-6{list-style-type:none}ul.lst-kix_l6ree99vh8ok-0{list-style-type:none}ul.lst-kix_l6ree99vh8ok-1{list-style-type:none}.lst-kix_wcg34dhrjlda-5>li:before{content:"\0025a0  "}ul.lst-kix_l6ree99vh8ok-2{list-style-type:none}ul.lst-kix_l6ree99vh8ok-7{list-style-type:none}.lst-kix_m8cjl3ytkqqs-8>li:before{content:"\0025a0  "}ul.lst-kix_l6ree99vh8ok-8{list-style-type:none}.lst-kix_5xw6kslyeabv-8>li:before{content:"\0025a0  "}.lst-kix_5xw6kslyeabv-6>li:before{content:"\0025cf  "}.lst-kix_5xw6kslyeabv-7>li:before{content:"\0025cb  "}.lst-kix_m8cjl3ytkqqs-3>li:before{content:"\0025cf  "}.lst-kix_bibu5p8er7uj-3>li:before{content:"\0025cf  "}ul.lst-kix_z6cx2k85s45j-2{list-style-type:none}.lst-kix_5xw6kslyeabv-4>li:before{content:"\0025cb  "}.lst-kix_5xw6kslyeabv-5>li:before{content:"\0025a0  "}ul.lst-kix_z6cx2k85s45j-3{list-style-type:none}ul.lst-kix_z6cx2k85s45j-0{list-style-type:none}.lst-kix_bibu5p8er7uj-4>li:before{content:"\0025cb  "}ul.lst-kix_z6cx2k85s45j-1{list-style-type:none}.lst-kix_m8cjl3ytkqqs-4>li:before{content:"\0025cb  "}.lst-kix_bibu5p8er7uj-5>li:before{content:"\0025a0  "}.lst-kix_5xw6kslyeabv-1>li:before{content:"\0025cb  "}.lst-kix_m8cjl3ytkqqs-5>li:before{content:"\0025a0  "}.lst-kix_m8cjl3ytkqqs-6>li:before{content:"\0025cf  "}.lst-kix_bibu5p8er7uj-6>li:before{content:"\0025cf  "}.lst-kix_bibu5p8er7uj-8>li:before{content:"\0025a0  "}.lst-kix_5xw6kslyeabv-2>li:before{content:"\0025a0  "}.lst-kix_5xw6kslyeabv-3>li:before{content:"\0025cf  "}.lst-kix_m8cjl3ytkqqs-7>li:before{content:"\0025cb  "}.lst-kix_bibu5p8er7uj-7>li:before{content:"\0025cb  "}ul.lst-kix_tyllilqqktwa-4{list-style-type:none}ul.lst-kix_tyllilqqktwa-5{list-style-type:none}ul.lst-kix_tyllilqqktwa-2{list-style-type:none}.lst-kix_bibu5p8er7uj-2>li:before{content:"\0025a0  "}ul.lst-kix_tyllilqqktwa-3{list-style-type:none}ul.lst-kix_tyllilqqktwa-0{list-style-type:none}ul.lst-kix_tyllilqqktwa-1{list-style-type:none}.lst-kix_bibu5p8er7uj-1>li:before{content:"\0025cb  "}.lst-kix_bibu5p8er7uj-0>li:before{content:"\0025cf  "}.lst-kix_wcg34dhrjlda-8>li:before{content:"\0025a0  "}ul.lst-kix_tyllilqqktwa-8{list-style-type:none}ul.lst-kix_tyllilqqktwa-6{list-style-type:none}ul.lst-kix_tyllilqqktwa-7{list-style-type:none}.lst-kix_mzdqbryq6jx5-0>li:before{content:"\0025cf  "}.lst-kix_mzdqbryq6jx5-2>li:before{content:"\0025a0  "}.lst-kix_mzdqbryq6jx5-3>li:before{content:"\0025cf  "}.lst-kix_mzdqbryq6jx5-1>li:before{content:"\0025cb  "}.lst-kix_iv67mwnkt0ou-0>li:before{content:"\0025cf  "}.lst-kix_sxwiqachf4gx-8>li:before{content:"\0025a0  "}.lst-kix_iv67mwnkt0ou-2>li:before{content:"\0025a0  "}.lst-kix_p2i2djphr8cn-4>li:before{content:"\0025cb  "}.lst-kix_p2i2djphr8cn-8>li:before{content:"\0025a0  "}.lst-kix_y9tylpjvwis1-5>li:before{content:"\0025a0  "}.lst-kix_y9tylpjvwis1-7>li:before{content:"\0025cb  "}.lst-kix_sxwiqachf4gx-4>li:before{content:"\0025cb  "}ul.lst-kix_kmpse1je8ztd-2{list-style-type:none}ul.lst-kix_kmpse1je8ztd-1{list-style-type:none}.lst-kix_p2i2djphr8cn-2>li:before{content:"\0025a0  "}ul.lst-kix_kmpse1je8ztd-0{list-style-type:none}.lst-kix_iv67mwnkt0ou-8>li:before{content:"\0025a0  "}.lst-kix_y9tylpjvwis1-1>li:before{content:"\0025cb  "}.lst-kix_y9tylpjvwis1-3>li:before{content:"\0025cf  "}.lst-kix_sxwiqachf4gx-0>li:before{content:"\0025cf  "}.lst-kix_sxwiqachf4gx-2>li:before{content:"\0025a0  "}.lst-kix_kmpse1je8ztd-8>li:before{content:"\0025a0  "}.lst-kix_iv67mwnkt0ou-6>li:before{content:"\0025cf  "}.lst-kix_iv67mwnkt0ou-4>li:before{content:"\0025cb  "}.lst-kix_p2i2djphr8cn-6>li:before{content:"\0025cf  "}.lst-kix_239ildm03gdr-1>li:before{content:"\0025cb  "}.lst-kix_msz2m9p3d6ol-3>li:before{content:"\0025cf  "}.lst-kix_kmpse1je8ztd-2>li:before{content:"\0025a0  "}.lst-kix_cuzzt0xtb4ti-0>li:before{content:"\0025cf  "}.lst-kix_msz2m9p3d6ol-1>li:before{content:"\0025cb  "}.lst-kix_msz2m9p3d6ol-5>li:before{content:"\0025a0  "}.lst-kix_kmpse1je8ztd-0>li:before{content:"\0025cf  "}.lst-kix_kmpse1je8ztd-4>li:before{content:"\0025cb  "}.lst-kix_z6cx2k85s45j-0>li:before{content:"\0025cf  "}.lst-kix_z6cx2k85s45j-4>li:before{content:"\0025cb  "}.lst-kix_1ped30x99rba-7>li:before{content:"\0025cb  "}.lst-kix_cuzzt0xtb4ti-2>li:before{content:"\0025a0  "}.lst-kix_msz2m9p3d6ol-7>li:before{content:"\0025cb  "}.lst-kix_kmpse1je8ztd-6>li:before{content:"\0025cf  "}.lst-kix_z6cx2k85s45j-6>li:before{content:"\0025cf  "}.lst-kix_cuzzt0xtb4ti-6>li:before{content:"\0025cf  "}ul.lst-kix_kmpse1je8ztd-6{list-style-type:none}ul.lst-kix_kmpse1je8ztd-5{list-style-type:none}ul.lst-kix_kmpse1je8ztd-4{list-style-type:none}ul.lst-kix_kmpse1je8ztd-3{list-style-type:none}.lst-kix_cuzzt0xtb4ti-4>li:before{content:"\0025cb  "}.lst-kix_cuzzt0xtb4ti-8>li:before{content:"\0025a0  "}ul.lst-kix_kmpse1je8ztd-8{list-style-type:none}ul.lst-kix_kmpse1je8ztd-7{list-style-type:none}.lst-kix_sxwiqachf4gx-6>li:before{content:"\0025cf  "}.lst-kix_z6cx2k85s45j-2>li:before{content:"\0025a0  "}ul.lst-kix_m8cjl3ytkqqs-5{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-6{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-7{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-8{list-style-type:none}.lst-kix_l6ree99vh8ok-2>li:before{content:"\0025a0  "}.lst-kix_l6ree99vh8ok-6>li:before{content:"\0025cf  "}.lst-kix_l6ree99vh8ok-0>li:before{content:"\0025cf  "}.lst-kix_l6ree99vh8ok-8>li:before{content:"\0025a0  "}.lst-kix_1ped30x99rba-3>li:before{content:"\0025cf  "}.lst-kix_m8cjl3ytkqqs-2>li:before{content:"\0025a0  "}.lst-kix_tyllilqqktwa-8>li:before{content:"\0025a0  "}.lst-kix_1ped30x99rba-1>li:before{content:"\0025cb  "}.lst-kix_1ped30x99rba-5>li:before{content:"\0025a0  "}.lst-kix_m8cjl3ytkqqs-0>li:before{content:"  "}.lst-kix_z6cx2k85s45j-8>li:before{content:"\0025a0  "}.lst-kix_59cwpstquhir-0>li:before{content:"\0025cf  "}.lst-kix_l6ree99vh8ok-4>li:before{content:"\0025cb  "}ul.lst-kix_wcg34dhrjlda-7{list-style-type:none}ul.lst-kix_wcg34dhrjlda-6{list-style-type:none}ul.lst-kix_1ped30x99rba-0{list-style-type:none}ul.lst-kix_wcg34dhrjlda-5{list-style-type:none}.lst-kix_tyllilqqktwa-0>li:before{content:"\0025cf  "}ul.lst-kix_wcg34dhrjlda-4{list-style-type:none}.lst-kix_59cwpstquhir-2>li:before{content:"\0025a0  "}.lst-kix_59cwpstquhir-4>li:before{content:"\0025cb  "}ul.lst-kix_wcg34dhrjlda-3{list-style-type:none}ul.lst-kix_1ped30x99rba-3{list-style-type:none}ul.lst-kix_wcg34dhrjlda-2{list-style-type:none}ul.lst-kix_1ped30x99rba-4{list-style-type:none}ul.lst-kix_wcg34dhrjlda-1{list-style-type:none}ul.lst-kix_1ped30x99rba-1{list-style-type:none}ul.lst-kix_wcg34dhrjlda-0{list-style-type:none}ul.lst-kix_1ped30x99rba-2{list-style-type:none}.lst-kix_239ildm03gdr-3>li:before{content:"\0025cf  "}ul.lst-kix_1ped30x99rba-7{list-style-type:none}ul.lst-kix_1ped30x99rba-8{list-style-type:none}ul.lst-kix_1ped30x99rba-5{list-style-type:none}ul.lst-kix_1ped30x99rba-6{list-style-type:none}.lst-kix_tyllilqqktwa-6>li:before{content:"\0025cf  "}ul.lst-kix_wcg34dhrjlda-8{list-style-type:none}.lst-kix_239ildm03gdr-5>li:before{content:"\0025a0  "}.lst-kix_239ildm03gdr-7>li:before{content:"\0025cb  "}ul.lst-kix_p2i2djphr8cn-4{list-style-type:none}ul.lst-kix_p2i2djphr8cn-3{list-style-type:none}.lst-kix_tyllilqqktwa-4>li:before{content:"\0025cb  "}ul.lst-kix_p2i2djphr8cn-6{list-style-type:none}ul.lst-kix_p2i2djphr8cn-5{list-style-type:none}.lst-kix_59cwpstquhir-6>li:before{content:"\0025cf  "}.lst-kix_59cwpstquhir-8>li:before{content:"\0025a0  "}ul.lst-kix_m8cjl3ytkqqs-0{list-style-type:none}ul.lst-kix_p2i2djphr8cn-0{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-1{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-2{list-style-type:none}.lst-kix_tyllilqqktwa-2>li:before{content:"\0025a0  "}ul.lst-kix_p2i2djphr8cn-2{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-3{list-style-type:none}ul.lst-kix_p2i2djphr8cn-1{list-style-type:none}ul.lst-kix_m8cjl3ytkqqs-4{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-7{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-6{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-5{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-4{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-3{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-2{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-1{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-0{list-style-type:none}ul.lst-kix_cuzzt0xtb4ti-8{list-style-type:none}ul.lst-kix_y9tylpjvwis1-8{list-style-type:none}ul.lst-kix_y9tylpjvwis1-6{list-style-type:none}ul.lst-kix_y9tylpjvwis1-7{list-style-type:none}ul.lst-kix_y9tylpjvwis1-4{list-style-type:none}ul.lst-kix_y9tylpjvwis1-5{list-style-type:none}ul.lst-kix_y9tylpjvwis1-2{list-style-type:none}ul.lst-kix_y9tylpjvwis1-3{list-style-type:none}ul.lst-kix_y9tylpjvwis1-0{list-style-type:none}ul.lst-kix_y9tylpjvwis1-1{list-style-type:none}.lst-kix_uhbp3sqigu8a-8>li:before{content:"\0025a0  "}.lst-kix_uhbp3sqigu8a-0>li:before{content:"\0025cf  "}.lst-kix_uhbp3sqigu8a-1>li:before{content:"\0025cb  "}.lst-kix_uhbp3sqigu8a-2>li:before{content:"\0025a0  "}.lst-kix_uhbp3sqigu8a-4>li:before{content:"\0025cb  "}.lst-kix_uhbp3sqigu8a-3>li:before{content:"\0025cf  "}.lst-kix_uhbp3sqigu8a-5>li:before{content:"\0025a0  "}.lst-kix_p2i2djphr8cn-1>li:before{content:"\0025cb  "}.lst-kix_p2i2djphr8cn-0>li:before{content:"\0025cf  "}.lst-kix_uhbp3sqigu8a-7>li:before{content:"\0025cb  "}.lst-kix_uhbp3sqigu8a-6>li:before{content:"\0025cf  "}.lst-kix_p2i2djphr8cn-7>li:before{content:"\0025cb  "}ul.lst-kix_5xw6kslyeabv-1{list-style-type:none}ul.lst-kix_5xw6kslyeabv-0{list-style-type:none}.lst-kix_iv67mwnkt0ou-1>li:before{content:"\0025cb  "}.lst-kix_p2i2djphr8cn-5>li:before{content:"\0025a0  "}.lst-kix_y9tylpjvwis1-8>li:before{content:"\0025a0  "}.lst-kix_iv67mwnkt0ou-3>li:before{content:"\0025cf  "}.lst-kix_p2i2djphr8cn-3>li:before{content:"\0025cf  "}ul.lst-kix_msz2m9p3d6ol-0{list-style-type:none}.lst-kix_y9tylpjvwis1-6>li:before{content:"\0025cf  "}ul.lst-kix_5xw6kslyeabv-8{list-style-type:none}ul.lst-kix_5xw6kslyeabv-7{list-style-type:none}ul.lst-kix_5xw6kslyeabv-6{list-style-type:none}ul.lst-kix_5xw6kslyeabv-5{list-style-type:none}ul.lst-kix_msz2m9p3d6ol-4{list-style-type:none}ul.lst-kix_5xw6kslyeabv-4{list-style-type:none}ul.lst-kix_msz2m9p3d6ol-3{list-style-type:none}ul.lst-kix_5xw6kslyeabv-3{list-style-type:none}ul.lst-kix_msz2m9p3d6ol-2{list-style-type:none}ul.lst-kix_5xw6kslyeabv-2{list-style-type:none}.lst-kix_sxwiqachf4gx-3>li:before{content:"\0025cf  "}ul.lst-kix_msz2m9p3d6ol-1{list-style-type:none}.lst-kix_y9tylpjvwis1-2>li:before{content:"\0025a0  "}.lst-kix_y9tylpjvwis1-0>li:before{content:"\0025cf  "}.lst-kix_y9tylpjvwis1-4>li:before{content:"\0025cb  "}.lst-kix_iv67mwnkt0ou-7>li:before{content:"\0025cb  "}.lst-kix_sxwiqachf4gx-1>li:before{content:"\0025cb  "}.lst-kix_iv67mwnkt0ou-5>li:before{content:"\0025a0  "}.lst-kix_msz2m9p3d6ol-2>li:before{content:"\0025a0  "}.lst-kix_msz2m9p3d6ol-4>li:before{content:"\0025cb  "}.lst-kix_kmpse1je8ztd-1>li:before{content:"\0025cb  "}.lst-kix_kmpse1je8ztd-3>li:before{content:"\0025cf  "}.lst-kix_z6cx2k85s45j-1>li:before{content:"\0025cb  "}.lst-kix_z6cx2k85s45j-3>li:before{content:"\0025cf  "}.lst-kix_239ildm03gdr-0>li:before{content:"\0025cf  "}.lst-kix_1ped30x99rba-8>li:before{content:"\0025a0  "}.lst-kix_1ped30x99rba-6>li:before{content:"\0025cf  "}.lst-kix_cuzzt0xtb4ti-1>li:before{content:"\0025cb  "}.lst-kix_cuzzt0xtb4ti-3>li:before{content:"\0025cf  "}.lst-kix_msz2m9p3d6ol-0>li:before{content:"  "}.lst-kix_msz2m9p3d6ol-6>li:before{content:"\0025cf  "}.lst-kix_msz2m9p3d6ol-8>li:before{content:"\0025a0  "}.lst-kix_kmpse1je8ztd-5>li:before{content:"\0025a0  "}.lst-kix_kmpse1je8ztd-7>li:before{content:"\0025cb  "}.lst-kix_z6cx2k85s45j-5>li:before{content:"\0025a0  "}.lst-kix_z6cx2k85s45j-7>li:before{content:"\0025cb  "}ul.lst-kix_msz2m9p3d6ol-8{list-style-type:none}ul.lst-kix_msz2m9p3d6ol-7{list-style-type:none}.lst-kix_cuzzt0xtb4ti-5>li:before{content:"\0025a0  "}.lst-kix_cuzzt0xtb4ti-7>li:before{content:"\0025cb  "}ul.lst-kix_msz2m9p3d6ol-6{list-style-type:none}ul.lst-kix_msz2m9p3d6ol-5{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-8{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-7{list-style-type:none}.lst-kix_sxwiqachf4gx-5>li:before{content:"\0025a0  "}ul.lst-kix_mzdqbryq6jx5-6{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-5{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-4{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-3{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-2{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-1{list-style-type:none}ul.lst-kix_mzdqbryq6jx5-0{list-style-type:none}.lst-kix_sxwiqachf4gx-7>li:before{content:"\0025cb  "}.lst-kix_l6ree99vh8ok-3>li:before{content:"\0025cf  "}ul.lst-kix_239ildm03gdr-2{list-style-type:none}ul.lst-kix_239ildm03gdr-1{list-style-type:none}ul.lst-kix_239ildm03gdr-0{list-style-type:none}.lst-kix_l6ree99vh8ok-7>li:before{content:"\0025cb  "}.lst-kix_1ped30x99rba-0>li:before{content:"\0025cf  "}ul.lst-kix_z6cx2k85s45j-8{list-style-type:none}ul.lst-kix_bibu5p8er7uj-7{list-style-type:none}ul.lst-kix_z6cx2k85s45j-6{list-style-type:none}.lst-kix_l6ree99vh8ok-1>li:before{content:"\0025cb  "}ul.lst-kix_bibu5p8er7uj-8{list-style-type:none}ul.lst-kix_z6cx2k85s45j-7{list-style-type:none}ul.lst-kix_bibu5p8er7uj-5{list-style-type:none}ul.lst-kix_z6cx2k85s45j-4{list-style-type:none}ul.lst-kix_bibu5p8er7uj-6{list-style-type:none}ul.lst-kix_z6cx2k85s45j-5{list-style-type:none}.lst-kix_1ped30x99rba-2>li:before{content:"\0025a0  "}.lst-kix_1ped30x99rba-4>li:before{content:"\0025cb  "}.lst-kix_m8cjl3ytkqqs-1>li:before{content:"\0025cb  "}ul.lst-kix_239ildm03gdr-6{list-style-type:none}ul.lst-kix_239ildm03gdr-5{list-style-type:none}ul.lst-kix_239ildm03gdr-4{list-style-type:none}ul.lst-kix_239ildm03gdr-3{list-style-type:none}.lst-kix_l6ree99vh8ok-5>li:before{content:"\0025a0  "}ul.lst-kix_239ildm03gdr-8{list-style-type:none}ul.lst-kix_239ildm03gdr-7{list-style-type:none}.lst-kix_tyllilqqktwa-1>li:before{content:"\0025cb  "}.lst-kix_239ildm03gdr-2>li:before{content:"\0025a0  "}.lst-kix_59cwpstquhir-1>li:before{content:"\0025cb  "}.lst-kix_59cwpstquhir-5>li:before{content:"\0025a0  "}ul.lst-kix_uhbp3sqigu8a-0{list-style-type:none}.lst-kix_tyllilqqktwa-5>li:before{content:"\0025a0  "}.lst-kix_239ildm03gdr-4>li:before{content:"\0025cb  "}.lst-kix_239ildm03gdr-6>li:before{content:"\0025cf  "}ul.lst-kix_sxwiqachf4gx-8{list-style-type:none}.lst-kix_tyllilqqktwa-7>li:before{content:"\0025cb  "}ul.lst-kix_sxwiqachf4gx-7{list-style-type:none}ul.lst-kix_sxwiqachf4gx-6{list-style-type:none}.lst-kix_59cwpstquhir-3>li:before{content:"\0025cf  "}ul.lst-kix_bibu5p8er7uj-3{list-style-type:none}ul.lst-kix_sxwiqachf4gx-5{list-style-type:none}ul.lst-kix_bibu5p8er7uj-4{list-style-type:none}ul.lst-kix_sxwiqachf4gx-4{list-style-type:none}ul.lst-kix_bibu5p8er7uj-1{list-style-type:none}ul.lst-kix_sxwiqachf4gx-3{list-style-type:none}ul.lst-kix_bibu5p8er7uj-2{list-style-type:none}ul.lst-kix_sxwiqachf4gx-2{list-style-type:none}.lst-kix_239ildm03gdr-8>li:before{content:"\0025a0  "}ul.lst-kix_sxwiqachf4gx-1{list-style-type:none}ul.lst-kix_bibu5p8er7uj-0{list-style-type:none}ul.lst-kix_sxwiqachf4gx-0{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-1{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-2{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-3{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-4{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-5{list-style-type:none}.lst-kix_tyllilqqktwa-3>li:before{content:"\0025cf  "}ul.lst-kix_uhbp3sqigu8a-6{list-style-type:none}ul.lst-kix_uhbp3sqigu8a-7{list-style-type:none}.lst-kix_59cwpstquhir-7>li:before{content:"\0025cb  "}ul.lst-kix_uhbp3sqigu8a-8{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c17{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#f6f6ae;border-left-style:solid;border-bottom-width:0pt;width:697.9pt;border-top-color:#000000;border-bottom-style:solid}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c28{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c12{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c31{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c30{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c44{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c25{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center;height:11pt}.c1{margin-left:108pt;padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Consolas";font-style:normal}.c27{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{background-color:#f6f6ae;font-size:10pt;font-family:"Consolas";color:#3e5915;font-weight:400}.c3{background-color:#f6f6ae;font-size:10pt;font-family:"Consolas";color:#3e5915;font-weight:700}.c10{background-color:#f6f6ae;font-size:10pt;font-family:"Consolas";color:#e60415;font-weight:400}.c38{font-weight:400;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c6{border-spacing:0;border-collapse:collapse;margin-right:auto}.c33{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c36{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c18{background-color:#f6f6ae;font-family:"Consolas";color:#2c009f;font-weight:400}.c15{background-color:#f6f6ae;font-size:10pt;font-family:"Consolas";color:#005599}.c37{color:#434343;font-weight:400;font-size:14pt;font-family:"Arial"}.c40{background-color:#ffffff;max-width:697.9pt;padding:72pt 72pt 72pt 72pt}.c24{background-color:#f6f6ae;font-family:"Consolas";color:#2c009f}.c32{text-decoration:none;vertical-align:baseline;font-style:normal}.c21{font-weight:400;font-family:"Consolas"}.c19{color:inherit;text-decoration:inherit}.c42{color:#000000;font-size:11pt}.c22{padding:0;margin:0}.c43{font-family:"Consolas"}.c16{font-size:10pt}.c4{font-weight:700}.c26{height:0pt}.c20{padding-left:0pt}.c34{margin-left:108pt}.c8{margin-left:36pt}.c11{margin-left:72pt}.c39{margin-left:252pt}.c41{margin-left:216pt}.c23{margin-left:144pt}.c35{height:14pt}.c45{margin-left:288pt}.c29{margin-left:180pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c40"><div><p class="c2"><span class="c5"></span></p></div><h1 class="c44" id="h.sxipl54z4sho"><span class="c31">Gi&#7899;i thi&#7879;u</span></h1><p class="c7"><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://flask.pocoo.org/&amp;sa=D&amp;ust=1550421914823000">Flask</a></span><span class="c5">&nbsp;l&agrave; m&#7897;t microframework cho ph&eacute;p ph&aacute;t tri&#7875;n webservice tr&ecirc;n Python m&#7897;t c&aacute;ch &#273;&#417;n gi&#7843;n v&agrave; nhanh ch&oacute;ng.</span></p><p class="c2"><span class="c5"></span></p><h1 class="c44" id="h.6fu1k08c06ur"><span class="c31">C&agrave;i &#273;&#7863;t </span></h1><h2 class="c30" id="h.mg1x6jebw5tl"><span class="c28">C&agrave;i &#273;&#7863;t python</span></h2><ul class="c22 lst-kix_239ildm03gdr-0 start"><li class="c7 c20 c8"><span>Download v&agrave; c&agrave;i &#273;&#7863;t python t&#7841;i :</span><span><a class="c19" href="https://www.google.com/url?q=https://www.python.org/downloads/&amp;sa=D&amp;ust=1550421914824000">&nbsp;</a></span><span class="c36"><a class="c19" href="https://www.google.com/url?q=https://www.python.org/downloads/&amp;sa=D&amp;ust=1550421914825000">https://www.python.org/downloads/</a></span></li></ul><p class="c2 c8"><span class="c36 c38"><a class="c19" href="https://www.google.com/url?q=https://www.python.org/downloads/&amp;sa=D&amp;ust=1550421914825000"></a></span></p><ul class="c22 lst-kix_239ildm03gdr-0"><li class="c7 c20 c8"><span>L&#432;u &yacute; khi c&agrave;i &#273;&#7863;t: T&#7841;i m&agrave;n h&igrave;nh c&#7917;a s&#7893; &#273;&#7847;u ti&ecirc;n khi ch&#7841;y ch&#432;&#417;ng tr&igrave;nh c&agrave;i &#273;&#259;t, n&ecirc;n ch&#7885;n option &ldquo;</span><span class="c4">Add Python 3.x to PATH</span><span class="c5">&rdquo;, &#273;&#7875; thu&#7853;n l&#7907;i cho vi&#7879;c ch&#7841;y python t&#7915; c&#7917;a s&#7893; cmd sau khi c&agrave;i &#273;&#7863;t</span></li></ul><p class="c2 c8"><span class="c5"></span></p><p class="c7 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 664.00px; height: 406.00px;"><img alt="" src="images/image3.png" style="width: 664.00px; height: 406.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c5"></span></p><p class="c7 c29"><span class="c14">Th&ecirc;m l&#7921;a ch&#7885;n &ldquo;Add Python to PATH&rdquo; khi c&agrave;i &#273;&#7863;t Python</span></p><h2 class="c30" id="h.a77zfruvs5bq"><span class="c28">C&agrave;i &#273;&#7863;t th&#432; vi&#7879;n Flask</span></h2><p class="c7"><span class="c5">S&#7917; d&#7909;ng pip &#273;&#7875; c&agrave;i &#273;&#7863;t th&#432; vi&#7879;n Flask v&agrave; c&aacute;c th&#432; vi&#7879;n li&ecirc;n quan. T&#7915; c&#7917;a s&#7893; cmd, g&otilde; l&#7879;nh sau &#273;&#7875; c&agrave;i &#273;&#7863;t Flask:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span class="c13">pip install flask flask_sqlalchemy</span></p><p class="c2 c23"><span class="c13"></span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 931.00px; height: 485.33px;"><img alt="" src="images/image9.png" style="width: 931.00px; height: 485.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c25 c8"><span class="c5"></span></p><p class="c7 c39"><span class="c14">C&agrave;i &#273;&#7863;t flask b&#7857;ng pip t&#7915; c&#7917;a s&#7893; cmd</span></p><p class="c25 c11"><span class="c14"></span></p><h1 class="c44" id="h.yewjpeji2i3n"><span class="c31">Ph&aacute;t tri&#7875;n &#7913;ng d&#7909;ng web v&#7899;i flask</span></h1><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.1xqueckipfrd"><span class="c28">X&acirc;y d&#7921;ng m&#7897;t &#7913;ng d&#7909;ng &#273;&#417;n gi&#7843;n</span></h2><p class="c7"><span>T&#7841;o m&#7897;t file v&#7899;i t&ecirc;n </span><span class="c21">app.py</span><span class="c5">&nbsp;v&#7899;i n&#7897;i dung sau v&agrave; ch&#7841;y ch&#432;&#417;ng tr&igrave;nh:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.8161e73a28c7c6fa9722b47c6597548293de1750"></a><a id="t.0"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_world</span><span class="c0">():<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;Hello World&#39;</span><span class="c0"><br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; &nbsp;app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Khi &#7913;ng d&#7909;ng ch&#7841;y, server s&#7869; l&#7855;ng nghe &#7903; c&#7893;ng m&#7863;c &#273;&#7883;nh l&agrave; 5000. Truy nh&#7853;p v&agrave;o &#273;&#7883;a ch&#7881; </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://localhost:5000&amp;sa=D&amp;ust=1550421914830000">http://localhost:5000</a></span><span class="c5">, ch&uacute;ng ta s&#7869; th&#7845;y k&#7871;t qu&#7843; &#7913;ng d&#7909;ng tr&#7843; v&#7873;:</span></p><p class="c2"><span class="c5"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 618.00px; height: 292.00px;"><img alt="" src="images/image11.png" style="width: 618.00px; height: 292.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">K&#7871;t qu&#7843; tr&#7843; v&#7873; khi truy nh&#7853;p trang ch&#7911; &#7913;ng d&#7909;ng t&#7841;i http://localhost:5000</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">&#7902; ch&#432;&#417;ng tr&igrave;nh v&iacute; d&#7909; tr&ecirc;n, l&#7879;nh kh&#7903;i &#273;&#7897;ng server trong h&agrave;m main l&agrave;:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span class="c13">app.run()</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>V&#7899;i l&#7879;nh m&#7863;c &#273;&#7883;nh n&agrave;y, server s&#7869; l&#7855;ng nghe &#7903; &#273;&#7883;a ch&#7881; 127.0.0.1 , c&#7893;ng 5000 (c&#7893;ng m&#7863;c &#273;&#7883;nh c&#7911;a flask). &#272;&#7875; thay &#273;&#7893;i c&#7845;u h&igrave;nh server, c&oacute; th&#7875; truy&#7873;n v&agrave;o l&#7879;nh </span><span class="c21">run</span><span class="c5">&nbsp;n&agrave;y c&aacute;c tham s&#7889; sau:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_l6ree99vh8ok-0 start"><li class="c7 c20 c8"><span class="c21">host</span><span class="c5">&nbsp;: Thay &#273;&#7893;i ip m&agrave; server s&#7869; l&#7855;ng nghe</span></li><li class="c7 c8 c20"><span class="c21">port</span><span class="c5">&nbsp;: Thay &#273;&#7893;i c&#7893;ng m&agrave; server s&#7869; l&#7855;ng nghe</span></li><li class="c7 c20 c8"><span class="c21">debug</span><span class="c5">&nbsp;: True/False. N&#7871;u gi&aacute; tr&#7883; n&agrave;y b&#7857;ng True th&igrave; m&#7895;i khi s&#7917;a file app.py v&agrave; l&#432;u l&#7841;i, server s&#7869; t&#7921; kh&#7903;i &#273;&#7897;ng l&#7841;i</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">V&iacute; d&#7909;:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span class="c13">app.run(host=&#39;0.0.0.0&#39;, port=8080, debug=True)</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.2e5nv1x9ri89"><span class="c28">Khai b&aacute;o &#273;&#7883;a ch&#7881; url v&agrave; ph&#432;&#417;ng th&#7913;c cho endpoint</span></h2><h3 class="c12" id="h.xeg2u9vt5xb2"><span class="c37 c32">Khai b&aacute;o url cho endpoint</span></h3><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span class="c13">@app.route(&#39;/hello&#39;)</span></p><p class="c7 c23"><span class="c13">def hello_world():</span></p><p class="c7 c23"><span class="c13">&nbsp; &nbsp; return &#39;Hello World&#39;</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7"><span class="c5">Khi ch&#7841;y &#7913;ng d&#7909;ng, endpoint s&#7869; c&oacute; url l&agrave; http://&lt;ip:port&gt;/hello</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.eocz4c7hc5dd"><span class="c37 c32">Khai b&aacute;o ph&#432;&#417;ng th&#7913;c cho endpoint:</span></h3><p class="c7"><span class="c5">Theo m&#7863;c &#273;&#7883;nh, ph&#432;&#417;ng th&#7913;c c&#7911;a endpoint s&#7869; l&agrave; GET. &#272;&#7875; ch&#7881; &#273;&#7883;nh c&aacute;c ph&#432;&#417;ng th&#7913;c m&agrave; endpoint s&#7869; h&#7895; tr&#7907;, c&#7847;n khai b&aacute;o danh s&aacute;ch c&aacute;c ph&#432;&#417;ng th&#7913;c n&agrave;y v&agrave;o cu&#7889;i annotation </span></p><p class="c7"><span class="c21">@app.route</span><span class="c5">&nbsp;nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.63317f90b4a682585b42cfb0a360cf6ad120ca03"></a><a id="t.1"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, request<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/hello&#39;, methods = [&#39;POST&#39;, &#39;GET&#39;])</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_world</span><span class="c0">():<br> &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;request.method == </span><span class="c18 c16">&#39;POST&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;Hello from POST method&#39;</span><span class="c0"><br> &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;Hello from GET method&#39;</span><span class="c0"><br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; &nbsp;app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.4l5kzvt2gymr"><span class="c28">L&#7845;y tham s&#7889; t&#7915; request</span></h2><p class="c7"><span>V&#7899;i GET method, c&aacute;c tham s&#7889; do client g&#7917;i l&ecirc;n server &#273;&#432;&#7907;c l&#7845;y qua </span><span class="c21">request.args</span><span>, c&ograve;n v&#7899;i POST method, c&aacute;c tham s&#7889; l&#7845;y t&#7915; </span><span class="c21">request.form </span><span>n&#7871;u d&#7919; li&#7879;u g&#7917;i l&ecirc;n &#7903; d&#7841;ng </span><span class="c21">form-data</span><span>, ho&#7863;c </span><span class="c21">request.json</span><span>&nbsp;n&#7871;u d&#7919; li&#7879;u g&#7917;i l&ecirc;n &#7903; d&#7841;ng </span><span class="c21">JSON</span><span>. Ngo&agrave;i ra n&#7871;u form &#7903; d&#7841;ng multi-part th&igrave; c&ograve;n c&oacute; th&ecirc;m </span><span class="c21">request.files</span><span>&nbsp;ch&#7913;a c&aacute;c file upload l&ecirc;n t&#7915; client.</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.382a245804cbfb6e44cb3cadde9016c1a3c63346"></a><a id="t.2"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, request<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/hello&#39;, methods = [&#39;POST&#39;, &#39;GET&#39;])</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_world</span><span class="c0">():<br> &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;request.method == </span><span class="c18 c16">&#39;POST&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;</span><span class="c15 c4">in</span><span class="c0">&nbsp;request.form:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name = request.form[</span><span class="c18 c16">&#39;name&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">f&#39;Hello </span><span class="c0">{name}</span><span class="c18 c16">&nbsp;from POST method (form-data)&#39;</span><span class="c0"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">elif</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;</span><span class="c15 c4">in</span><span class="c0">&nbsp;request.json:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;name = request.json[</span><span class="c18 c16">&#39;name&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">f&#39;Hello </span><span class="c0">{name}</span><span class="c16 c18">&nbsp;from POST method (JSON)&#39;</span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">&#39;Hello from POST method&#39;</span><span class="c0"><br> &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;name = request.args.get(</span><span class="c18 c16">&#39;name&#39;</span><span class="c0">, </span><span class="c18 c16">&#39;&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">f&#39;Hello </span><span class="c0">{name}</span><span class="c18 c16">&nbsp;from GET method&#39;</span><span class="c0"><br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; &nbsp;app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c13"></span></p><p class="c27"><span class="c14">C&aacute;ch l&#7845;y tham s&#7889; trong GET v&agrave; POST method</span></p><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.qtm92bwc68pw"><span class="c28">Mapping tham s&#7889; trong url</span></h2><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Ngo&agrave;i c&aacute;ch l&#7845;y tham s&#7889; t&#7915; request, c&oacute; th&#7875; mapping tham s&#7889; trong khai b&aacute;o url:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.70bcc2d757158d4345cc59d72e0464ead234603a"></a><a id="t.3"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/hello/&lt;name&gt;&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_name</span><span class="c0">(name):<br> &nbsp; </span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">f&#39;Hello </span><span class="c0">{name}</span><span class="c18 c16">&#39;</span><span class="c0"><br><br></span><span class="c10">@app.route(&#39;/student/&lt;int:studentId&gt;&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">getStudent</span><span class="c0">(studentId):<br> &nbsp; </span><span class="c15 c4">return</span><span class="c0">&nbsp;</span><span class="c18 c16">f&#39;Student </span><span class="c0">{studentId}</span><span class="c18 c16">&#39;</span><span class="c0"><br> &nbsp; <br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run(debug = </span><span class="c15 c4">True</span><span class="c0">)</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.4f3mo2c5knou"><span class="c28">Truy nh&#7853;p static files</span></h2><p class="c7"><span>C&aacute;c file static (css, js, jpg, png &hellip;) c&oacute; th&#7875; &#273;&#432;&#7907;c truy nh&#7853;p qua m&#7897;t folder c&oacute; t&ecirc;n l&agrave; </span><span class="c21">static</span><span>&nbsp;&#273;&#7863;c ngang h&agrave;ng v&#7899;i file </span><span class="c21">app.py</span><span class="c5">. V&iacute; d&#7909;:</span></p><p class="c2"><span class="c5"></span></p><p class="c1"><span class="c13">app.py</span></p><p class="c1"><span class="c13">static/</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; test.jpg</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7"><span class="c5">Trong tr&#432;&#7901;ng h&#7907;p n&agrave;y, link t&#7901;i file test.jpg l&agrave; http://localhost:5000/static/test.jpg</span></p><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.suda7j3dkcch"><span class="c28">S&#7917; d&#7909;ng template</span></h2><p class="c7"><span>M&#7895;i endpoint ph&#7843;i tr&#7843; v&#7873; m&#7897;t gi&aacute; tr&#7883; string ch&#7913;a n&#7897;i dung c&#7911;a trang web c&#7847;n hi&#7875;n th&#7883;. Tuy nhi&ecirc;n th&#7921;c t&#7871; , h&#7847;u nh&#432; kh&ocirc;ng &#7913;ng d&#7909;ng n&agrave;o tr&#7843; v&#7873; gi&aacute; tr&#7883; string n&agrave;y trong file app.py, m&agrave; s&#7869; s&#7917; d&#7909;ng th&ocirc;ng qua c&aacute;c template. C&aacute;c file template n&agrave;y th&#432;&#7901;ng c&oacute; t&ecirc;n m&#7903; r&#7897;ng l&agrave; html v&agrave; &#273;&#7863;t trong th&#432; m&#7909;c </span><span class="c21">templates</span><span>&nbsp;ngang h&agrave;ng v&#7899;i file </span><span class="c21">app.py</span><span class="c5">:</span></p><p class="c2"><span class="c5"></span></p><p class="c1"><span class="c13">app.py</span></p><p class="c1"><span class="c13">templates/</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; index.html</span></p><p class="c2 c8"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Ch&#432;&#417;ng tr&igrave;nh sau minh h&#7885;a m&#7897;t v&iacute; d&#7909; s&#7917; d&#7909;ng template &#273;&#417;n gi&#7843;n:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.3d07bc305ec81b9e8d64ce8a09ce52e2e8d90127"></a><a id="t.4"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, render_template<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello</span><span class="c0">():<br> &nbsp; </span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&#39;index.html&#39;</span><span class="c0">)<br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">app.py</span></p><p class="c25"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.72724c0b3a5402be5c9ad3a0a82b189744f19861"></a><a id="t.5"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">&lt;</span><span class="c3">html</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">body</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">b</span><span class="c0">&gt;Hello, world!&lt;/</span><span class="c3">b</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">body</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">html</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">templates/index.html</span></p><p class="c25"><span class="c13"></span></p><h3 class="c12 c35" id="h.liu6ogur0l3h"><span class="c37 c32"></span></h3><h3 class="c12" id="h.guwkon1jb9xq"><span class="c37 c32">Truy&#7873;n bi&#7871;n xu&#7889;ng template</span></h3><p class="c7"><span class="c5">Th&ocirc;ng th&#432;&#7901;ng v&#7899;i c&aacute;c &#7913;ng d&#7909;ng web, c&aacute;c bi&#7871;n d&#7919; li&#7879;u s&#7869; &#273;&#432;&#7907;c t&iacute;nh to&aacute;n trong h&agrave;m x&#7917; l&yacute; (Controller), sau &#273;&oacute; s&#7869; truy&#7873;n xu&#7889;ng cho template. V&iacute; d&#7909; sau minh h&#7885;a c&aacute;ch flask truy&#7873;n bi&#7871;n xu&#7889;ng template:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.2dc7afb532df946e2a3873f5bc23d80a0452d530"></a><a id="t.6"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, render_template<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/hello/&lt;user&gt;&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_name</span><span class="c0">(user):<br> &nbsp; </span><span class="c4 c15">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&#39;index.html&#39;</span><span class="c0">, user=user)<br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c15 c4 c32"></span></p><p class="c27"><span class="c16">File </span><span class="c13">app.py</span></p><p class="c25"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.9adc71f5497963715b447d501be03c367a19da02"></a><a id="t.7"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">&lt;</span><span class="c3">html</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">body</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">b</span><span class="c0">&gt;Hello, {{ user }}!&lt;/</span><span class="c3">b</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">body</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">html</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">templates/index.html</span></p><p class="c25"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">&#7902; template, c&aacute;c bi&#7871;n t&#7915; h&agrave;m controller g&#7917;i sang s&#7869; &#273;&#432;&#7907;c &#273;&#7863;t trong k&iacute; hi&#7879;u {{ }}</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12 c35" id="h.1gvb90puece2"><span class="c37 c32"></span></h3><h2 class="c30" id="h.xhmjxgrg9oeh"><span class="c28">Redirect v&agrave; error</span></h2><p class="c7"><span>Trong tr&#432;&#7901;ng h&#7907;p &#273;ang &#7903; h&agrave;m x&#7917; l&yacute; c&#7911;a m&#7897;t endpoint m&agrave; ch&uacute;ng ta mu&#7889;n chuy&#7875;n sang m&#7897;t endpoint kh&aacute;c th&igrave; c&oacute; th&#7875; d&ugrave;ng h&agrave;m </span><span class="c43 c4">redirect</span><span>. H&agrave;m n&agrave;y nh&#7853;n tham s&#7889; l&agrave; url c&#7847;n chuy&#7875;n h&#432;&#7899;ng t&#7899;i. Tuy nhi&ecirc;n, c&oacute; th&#7875; d&ugrave;ng h&agrave;m </span><span class="c43 c4">urlfor</span><span>&nbsp;v&agrave; truy&#7873;n v&agrave;o t&ecirc;n h&agrave;m x&#7917; l&yacute; c&#7911;a endpoint c&#7847;n chuy&#7875;n h&#432;&#7899;ng t&#7899;i. Trong tr&#432;&#7901;ng h&#7907;p x&#7843;y ra l&#7895;i v&agrave; ch&uacute;ng ta mu&#7889;n tho&aacute;t ngay kh&#7887;i h&agrave;m x&#7917; l&yacute; v&agrave; tr&#7843; v&#7873; l&#7895;i lu&ocirc;n th&igrave; c&oacute; th&#7875; d&ugrave;ng h&agrave;m </span><span class="c43 c4">abort</span><span class="c5">.</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">V&iacute; d&#7909; sau minh h&#7885;a c&aacute;ch d&ugrave;ng c&aacute;c h&agrave;m tr&ecirc;n. </span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.297034b2f85690be5c4ab2b3fa1ce358e652fcc0"></a><a id="t.8"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, request, render_template, redirect, url_for, abort<br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/hello/&lt;user&gt;&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">hello_name</span><span class="c0">(user):<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&#39;index.html&#39;</span><span class="c0">, user=user)<br><br></span><span class="c10">@app.route(&#39;/login&#39;, methods=[&#39;GET&#39;, &#39;POST&#39;])</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c16 c4 c24">login</span><span class="c0">():<br> &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;request.method == </span><span class="c18 c16">&#39;POST&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;user = request.form.get(</span><span class="c18 c16">&#39;user&#39;</span><span class="c0">, </span><span class="c18 c16">&#39;&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp;password = request.form.get(</span><span class="c18 c16">&#39;password&#39;</span><span class="c0">, </span><span class="c18 c16">&#39;&#39;</span><span class="c0">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;user == </span><span class="c18 c16">&#39;admin&#39;</span><span class="c0">&nbsp;</span><span class="c15 c4">and</span><span class="c0">&nbsp;password == </span><span class="c18 c16">&#39;password&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;redirect(url_for(</span><span class="c18 c16">&#39;hello_name&#39;</span><span class="c0">,user=user))<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;abort(401)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&#39;login.html&#39;</span><span class="c0">)<br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">app.py</span></p><p class="c25"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.e6ba4aaebff7201f8009a0a198b91f7253d88acd"></a><a id="t.9"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">&lt;</span><span class="c3">form</span><span class="c0">&nbsp;method=</span><span class="c18 c16">&#39;post&#39;</span><span class="c0">&gt;<br> &nbsp; &nbsp;Username : &lt;</span><span class="c3">input</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;user&#39;</span><span class="c0">&gt; &lt;</span><span class="c3">br</span><span class="c0">&gt;<br> &nbsp; &nbsp;Password : &lt;</span><span class="c3">input</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;password&#39;</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;password&#39;</span><span class="c0">&gt; &lt;</span><span class="c3">br</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;submit&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;Login&#39;</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">form</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">templates/login.html</span></p><p class="c25"><span class="c13"></span></p><p class="c25"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.9adc71f5497963715b447d501be03c367a19da02"></a><a id="t.10"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">&lt;</span><span class="c3">html</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">body</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">b</span><span class="c0">&gt;Hello, {{ user }}!&lt;/</span><span class="c3">b</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">body</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">html</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">templates/index.html</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Ch&#7841;y &#7913;ng d&#7909;ng, truy nh&#7853;p v&agrave;o link </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://localhost:5000/login&amp;sa=D&amp;ust=1550421914861000">http://localhost:5000/login</a></span><span class="c5">&nbsp;s&#7869; xu&#7845;t hi&#7879;n m&agrave;n h&igrave;nh &#273;&#259;ng nh&#7853;p nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 376.00px; height: 153.00px;"><img alt="" src="images/image5.png" style="width: 376.00px; height: 153.00px; margin-left: -5.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">M&agrave;n h&igrave;nh &#273;&#259;ng nh&#7853;p http://localhost:5000/login</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">N&#7871;u username/pasword nh&#7853;p v&agrave;o l&agrave; &quot;admin&quot;/&quot;password&quot; th&igrave; ch&#432;&#417;ng tr&igrave;nh s&#7869; redirect sang trang th&agrave;nh c&ocirc;ng</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 424.00px; height: 163.00px;"><img alt="" src="images/image14.png" style="width: 424.00px; height: 163.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">Redirect sang trang m&#7899;i sau khi &#273;&#259;ng nh&#7853;p th&agrave;nh c&ocirc;ng</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">N&#7871;u nh&#7853;p username/password kh&aacute;c gi&aacute; tr&#7883; &#7903; tr&ecirc;n th&igrave; s&#7869; xu&#7845;t hi&#7879;n m&agrave;n h&igrave;nh l&#7895;i 401</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 558.00px; height: 193.00px;"><img alt="" src="images/image7.png" style="width: 558.00px; height: 193.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">M&agrave;n h&igrave;nh l&#7895;i 401 khi nh&#7853;p sai username/password</span></p><h2 class="c30" id="h.sk5nhbedvsdr"><span class="c28">Truy nh&#7853;p database v&#7899;i flask_sqlalchemy</span></h2><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Flask_sqlalchemy l&agrave; th&#432; vi&#7879;n ORM cho ph&eacute;p l&agrave;m vi&#7879;c v&#7899;i nhi&#7873;u database kh&aacute;c nhau m&#7897;t c&aacute;ch &#273;&#417;n gi&#7843;n v&agrave; thu&#7853;n ti&#7879;n.</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.7ac9cwcqslon"><span class="c37 c32">Khai b&aacute;o model v&#7899;i flask_sqlalchemy</span></h3><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.2dbdd8e4e2b49dd1a87d17334e8a9b93314d0911"></a><a id="t.11"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;flask_sqlalchemy </span><span class="c15 c4">import</span><span class="c0">&nbsp;SQLAlchemy<br><br>app = Flask(__name__)<br>app.config[</span><span class="c18 c16">&#39;SQLALCHEMY_DATABASE_URI&#39;</span><span class="c0">] = </span><span class="c18 c16">&#39;sqlite:///students.db&#39;</span><span class="c0"><br>db = SQLAlchemy(app)<br><br><br></span><span class="c15 c4">class</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">Student</span><span class="c0">(db.Model):<br> &nbsp; &nbsp;id = db.Column(db.Integer, primary_key = </span><span class="c15 c4">True</span><span class="c0">)<br> &nbsp; &nbsp;studentNo = db.Column(</span><span class="c18 c16">&#39;student_no&#39;</span><span class="c0">, db.String(20), unique=</span><span class="c15 c4">True</span><span class="c0">)<br> &nbsp; &nbsp;studentName = db.Column(</span><span class="c18 c16">&#39;student_name&#39;</span><span class="c0">, db.String(50))<br> &nbsp; &nbsp;address = db.Column(</span><span class="c18 c16">&#39;address&#39;</span><span class="c0">, db.String(50))<br> &nbsp; <br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">__init__</span><span class="c0">(self, studentNo, studentName, address):<br> &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo = studentNo<br> &nbsp; &nbsp; &nbsp; &nbsp;self.studentName = studentName<br> &nbsp; &nbsp; &nbsp; &nbsp;self.address = address</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">app.py</span></p><p class="c25"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">&#7902; file v&iacute; d&#7909; tr&ecirc;n, ch&uacute;ng ta khai b&aacute;o m&#7897;t model Student v&#7899;i c&aacute;c tr&#432;&#7901;ng:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_y9tylpjvwis1-0 start"><li class="c7 c20 c11"><span class="c5">Id : INT, PRIMARY KEY</span></li><li class="c7 c20 c11"><span class="c5">studentNo : VARCHAR(20), UNIQUE</span></li><li class="c7 c20 c11"><span class="c5">studentName : VARCHAR(50)</span></li><li class="c7 c20 c11"><span class="c5">address : VARCHAR(100)</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c7"><span>C&#417; s&#7903; d&#7919; li&#7879;u s&#7917; d&#7909;ng &#273;&#432;&#7907;c khai b&aacute;o trong bi&#7871;n </span><span class="c21">app.config[&#39;SQLALCHEMY_DATABASE_URI&#39;]</span><span class="c5">, &#7903; v&iacute; d&#7909; n&agrave;y l&agrave; sqlite (m&#7897;t v&iacute; d&#7909; v&#7873; MySQL s&#7869; &#273;&#432;&#7907;c tr&igrave;nh b&agrave;y &#7903; ph&#7847;n sau)</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Sau khi &#273;&atilde; c&oacute; file </span><span class="c21">app.py</span><span>&nbsp;tr&ecirc;n, ch&uacute;ng ta c&oacute; th&#7875; ch&#7841;y &#7913;ng d&#7909;ng python shell trong th&#432; m&#7909;c ch&#7913;a file </span><span class="c21">app.py</span><span class="c5">&nbsp;n&agrave;y v&agrave; th&#7921;c hi&#7879;n m&#7897;t s&#7889; thao t&aacute;c sau:</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.cxjcy16v03s6"><span class="c37 c32">T&#7841;o m&#7899;i b&#7843;ng</span></h3><p class="c7"><span class="c5">S&#7917; d&#7909;ng l&#7879;nh sau &#273;&#7875; t&#7841;o m&#7899;i c&aacute;c b&#7843;ng t&#432;&#417;ng &#7913;ng v&#7899;i c&aacute;c model &#273;&atilde; khai b&aacute;o:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; from app import db</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.create_all()</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7"><span>Sau l&#7879;nh n&agrave;y, file </span><span class="c21">students.db</span><span>&nbsp;s&#7869; &#273;&#432;&#7907;c t&#7841;o ra trong c&ugrave;ng th&#432; m&#7909;c v&#7899;i file </span><span class="c21">app.py</span><span>. N&#7871;u s&#7917; d&#7909;ng c&aacute;c tool database client &#273;&#7875; xem n&#7897;i dung file n&agrave;y, s&#7869; th&#7845;y b&#7843;ng </span><span class="c21">student</span><span class="c5">&nbsp;&#273;&atilde; &#273;&#432;&#7907;c t&#7841;o ra.</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.jdv9mzcawp4f"><span class="c37 c32">T&#7841;o m&#7899;i m&#7897;t s&#7889; b&#7843;n ghi</span></h3><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">T&#7915; c&#7917;a s&#7893; python shell, ch&uacute;ng ta c&oacute; th&#7875; t&#7841;o m&#7897;t s&#7889; b&#7843;n ghi &#273;&#7875; test th&#7917;</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; from app import Student</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student1 = Student(&#39;101&#39;, &#39;Nguy&#7877;n V&#259;n An&#39;, &#39;H&agrave; N&#7897;i&#39;)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student2 = Student(&#39;102&#39;, &#39;Nguy&#7877;n Th&#7883; B&igrave;nh&#39;, &#39;TP.HCM&#39;)</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.add(student1)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.add(student2)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.commit()</span></p><p class="c2 c8"><span class="c5"></span></p><h3 class="c12" id="h.cao0vc807q9e"><span class="c37 c32">Xem danh s&aacute;ch c&aacute;c b&#7843;n ghi trong database:</span></h3><p class="c7 c11"><span class="c13">&gt;&gt;&gt; students = Student.query.all()</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; for student in students:</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; &nbsp; &nbsp; print(student.id, student.studentNo, student.studentName, student.address)</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><h3 class="c12" id="h.50qom6dcfca4"><span class="c32 c37">T&igrave;m ki&#7871;m b&#7843;n ghi theo id:</span></h3><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student1 = Student.query.get(1)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; print(student1.id, student1.studentNo, student1.studentName, student1.address)</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><h3 class="c12" id="h.jhwt9oyca0u1"><span class="c37 c32">S&#7917;a b&#7843;n ghi:</span></h3><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student1 = Student.query.get(1)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student1.address = &#39;TP. H&agrave; N&#7897;i&#39;</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.commit()</span></p><p class="c2 c8"><span class="c5"></span></p><h3 class="c12" id="h.i30t90pko7kk"><span class="c37 c32">X&oacute;a b&#7843;n ghi:</span></h3><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; student1 = Student.query.get(1)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.delete(student1)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db.session.commit()</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><h2 class="c30" id="h.h5nn7ymslwuj"><span class="c28">X&acirc;y d&#7921;ng &#7913;ng d&#7909;ng web v&#7899;i c&aacute;c ch&#7913;c n&#259;ng truy nh&#7853;p c&#417; s&#7903; d&#7919; li&#7879;u c&#417; b&#7843;n</span></h2><p class="c7"><span class="c5">&#272;&#7875; hi&#7875;u r&otilde; h&#417;n c&aacute;c th&agrave;nh ph&#7847;n ch&#7913;c n&#259;ng trong flask nh&#432; &#273;&atilde; m&ocirc; t&#7843; &#7903; c&aacute;c ph&#7847;n tr&ecirc;n, trong ph&#7847;n n&agrave;y ch&uacute;ng ta s&#7869; x&acirc;y d&#7921;ng m&#7897;t &#7913;ng d&#7909;ng web demo th&#7921;c hi&#7879;n qu&#7843;n l&yacute; h&#7885;c sinh trong m&#7897;t l&#7899;p h&#7885;c. &#7912;ng d&#7909;ng c&oacute; 2 m&agrave;n h&igrave;nh ch&iacute;nh:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_p2i2djphr8cn-0 start"><li class="c7 c20 c8"><span class="c5">M&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh : hi&#7875;n th&#7883; to&agrave;n b&#7897; h&#7885;c sinh trong l&#7899;p h&#7885;c</span></li><li class="c7 c20 c8"><span class="c5">M&agrave;n h&igrave;nh th&ecirc;m m&#7899;i, ch&#7881;nh s&#7917;a th&ocirc;ng tin h&#7885;c sinh : cho ph&eacute;p ch&#7881;nh s&#7917;a, th&ecirc;m m&#7899;i th&ocirc;ng tin c&#7911;a t&#7915;ng h&#7885;c sinh.</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">C&aacute;c b&#432;&#7899;c th&#7921;c hi&#7879;n nh&#432; sau :</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.fgy7ziffiktz"><span class="c37 c32">C&agrave;i &#273;&#7863;t c&aacute;c th&#432; vi&#7879;n c&#7847;n thi&#7871;t</span></h3><p class="c7"><span class="c5">Trong &#7913;ng d&#7909;ng n&agrave;y, ch&uacute;ng ta s&#7869; s&#7917; d&#7909;ng c&#417; s&#7903; d&#7919; li&#7879;u l&agrave; MySQL, do &#273;&oacute; c&#7847;n c&agrave;i &#273;&#7863;t th&#432; vi&#7879;c MySQL client cho Python. &nbsp;C&aacute;ch th&#7921;c hi&#7879;n nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_1ped30x99rba-0 start"><li class="c7 c20 c8"><span>Download th&#432; vi&#7879;n t&#7841;i : </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=https://www.lfd.uci.edu/~gohlke/pythonlibs/%23mysqlclient&amp;sa=D&amp;ust=1550421914874000">https://www.lfd.uci.edu/~gohlke/pythonlibs/#mysqlclient</a></span></li></ul><p class="c2 c8"><span class="c38 c33"><a class="c19" href="https://www.google.com/url?q=https://www.lfd.uci.edu/~gohlke/pythonlibs/%23mysqlclient&amp;sa=D&amp;ust=1550421914874000"></a></span></p><p class="c7 c8"><span class="c5">L&#7921;a ch&#7885;n theo &#273;&uacute;ng phi&ecirc;n b&#7843;n Python v&agrave; ki&#7871;n tr&uacute;c cpu (32 bit/64bit) c&#7911;a phi&ecirc;n b&#7843;n Python &#273;&atilde; c&agrave;i &#273;&#7863;t.</span></p><ul class="c22 lst-kix_msz2m9p3d6ol-0 start"><li class="c2 c20 c11"><span class="c5"></span></li></ul><ul class="c22 lst-kix_mzdqbryq6jx5-0 start"><li class="c7 c20 c8"><span class="c5">S&#7917; d&#7909;ng pip &#273;&#7875; c&agrave;i &#273;&#7863;t th&#432; vi&#7879;n:</span></li></ul><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span class="c5">M&#7903; c&#7917;a s&#7893; cmd, di chuy&#7875;n v&agrave;o trong th&#432; m&#7909;c ch&#7913;a file th&#432; vi&#7879;n &#273;&atilde; download, g&otilde; l&#7879;nh sau &#273;&#7875; c&agrave;i &#273;&#7863;t th&#432; vi&#7879;n:</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c23"><span class="c13">pip install &lt;t&ecirc;n file th&#432; vi&#7879;n &#273;&atilde; download&gt;</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 931.00px; height: 486.67px;"><img alt="" src="images/image1.png" style="width: 931.00px; height: 486.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2 c8"><span class="c13"></span></p><p class="c7 c39"><span class="c14">C&agrave;i &#273;&#7863;t th&#432; vi&#7879;n mysqlclient</span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.1y1v58v1wqza"><span class="c37 c32">T&#7841;o khung &#7913;ng d&#7909;ng</span></h3><p class="c7"><span class="c5">M&#7863;c d&ugrave; flask kh&ocirc;ng quy &#273;&#7883;nh c&#7845;u tr&uacute;c th&#432; m&#7909;c v&agrave; file c&#7911;a c&aacute;c th&agrave;nh ph&#7847;n x&#7917; l&yacute; nh&#432;ng &#273;&#7875; ti&#7879;n ph&aacute;t tri&#7875;n, ch&uacute;ng ta n&ecirc;n &#273;&#7883;nh ngh&#297;a c&#7845;u tr&uacute;c c&#7911;a c&aacute;c module th&agrave;nh ph&#7847;n ngay t&#7915; &#273;&#7847;u. Trong v&iacute; d&#7909; n&agrave;y, c&#7845;u tr&uacute;c th&#432; m&#7909;c c&#7911;a &#7913;ng d&#7909;ng s&#7869; g&#7891;m c&aacute;c th&agrave;nh ph&#7847;n nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c23"><span class="c13">static/</span></p><p class="c7 c23"><span class="c13">&nbsp; &nbsp; images</span></p><p class="c7 c23"><span class="c13">templates/</span></p><p class="c7 c23"><span class="c13">&nbsp; &nbsp; list_student.html</span></p><p class="c7 c23"><span class="c13">&nbsp; &nbsp; add_edit_student.html</span></p><p class="c7 c23"><span class="c13">config.py</span></p><p class="c7 c23"><span class="c13">app.py</span></p><p class="c7 c23"><span class="c13">forms.py</span></p><p class="c7 c23"><span class="c13">db_serice.py</span></p><p class="c2 c11"><span class="c5"></span></p><p class="c7"><span class="c5">Trong &#273;&oacute; :</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_sxwiqachf4gx-0 start"><li class="c7 c20 c8"><span class="c21">static</span><span>&nbsp;: th&#432; m&#7909;c ch&#7913;a c&aacute;c file t&#297;nh, th&#432; m&#7909;c con </span><span class="c21">images</span><span class="c5">&nbsp;ch&#7913;a c&aacute;c &#7843;nh profile c&#7911;a c&aacute;c h&#7885;c sinh</span></li></ul><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_sxwiqachf4gx-0"><li class="c7 c20 c8"><span class="c21">templates</span><span class="c5">&nbsp;: th&#432; m&#7909;c ch&#7913;a c&aacute;c template html</span></li></ul><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_wcg34dhrjlda-0 start"><li class="c7 c20 c8"><span class="c21">config.py</span><span class="c5">&nbsp;: File ch&#7913;a c&aacute;c th&ocirc;ng tin c&#7845;u h&igrave;nh</span></li></ul><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_z6cx2k85s45j-0 start"><li class="c7 c20 c8"><span class="c21">app.py</span><span class="c5">&nbsp;: File &#7913;ng d&#7909;ng ch&iacute;nh c&#7911;a flask</span></li></ul><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_tyllilqqktwa-0 start"><li class="c7 c20 c8"><span class="c21">forms.py</span><span class="c5">&nbsp;: File &#273;&#7883;nh ngh&#297;a c&aacute;c form &#273;&#7875; nh&#7853;n tham s&#7889; t&#7915; request</span></li></ul><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_59cwpstquhir-0 start"><li class="c7 c20 c8"><span class="c21">db_service.py</span><span class="c5">&nbsp;: File ch&#7913;a c&aacute;c ch&#7913;c n&#259;ng truy xu&#7845;t d&#7919; li&#7879;u</span></li></ul><h3 class="c12" id="h.vahn8yk5rbiv"><span class="c37 c32">Khai b&aacute;o c&aacute;c th&ocirc;ng tin c&#7845;u h&igrave;nh trong config.py</span></h3><p class="c7"><span>C&aacute;c th&ocirc;ng tin c&#7845;u h&igrave;nh trong file </span><span class="c21">config.py</span><span class="c5">&nbsp;nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><a id="t.76d79526ec61e8a98ac2457c584a6f11f181bb07"></a><a id="t.12"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask<br><br>app = Flask(__name__)<br>app.config[</span><span class="c18 c16">&#39;SQLALCHEMY_DATABASE_URI&#39;</span><span class="c0">] = </span><span class="c18 c16">&#39;mysql://admin:1234@localhost/testdb&#39;</span><span class="c0"><br>app.config[</span><span class="c18 c16">&#39;IMG_DIR&#39;</span><span class="c0">] = </span><span class="c18 c16">&#39;static/images&#39;</span><span class="c0"><br>app.config[</span><span class="c18 c16">&#39;SECRET_KEY&#39;</span><span class="c0">] = </span><span class="c18 c16">&quot;abcxyztuv&quot;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">config.py</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>T&#7841;o database model v&agrave; c&aacute;c h&agrave;m truy xu&#7845;t trong </span><span class="c21">db_serice.py</span><span class="c5">&nbsp;:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.61a25a436a99301e1980fcd2c42658b9640e5de7"></a><a id="t.13"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask_sqlalchemy </span><span class="c15 c4">import</span><span class="c0">&nbsp;SQLAlchemy<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;config </span><span class="c15 c4">import</span><span class="c0">&nbsp;app<br><br>db = SQLAlchemy(app)<br><br></span><span class="c15 c4">class</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">Student</span><span class="c0">(db.Model):<br> &nbsp; &nbsp;id = db.Column(db.Integer, primary_key = </span><span class="c15 c4">True</span><span class="c0">)<br> &nbsp; &nbsp;studentNo = db.Column(</span><span class="c18 c16">&#39;student_no&#39;</span><span class="c0">, db.String(20), unique=</span><span class="c15 c4">True</span><span class="c0">)<br> &nbsp; &nbsp;studentName = db.Column(</span><span class="c18 c16">&#39;student_name&#39;</span><span class="c0">, db.String(50))<br> &nbsp; &nbsp;address = db.Column(</span><span class="c18 c16">&#39;address&#39;</span><span class="c0">, db.String(50))<br> &nbsp; <br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">__init__</span><span class="c0">(self, studentNo, studentName, address):<br> &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo = studentNo<br> &nbsp; &nbsp; &nbsp; &nbsp;self.studentName = studentName<br> &nbsp; &nbsp; &nbsp; &nbsp;self.address = address<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">getAllStudents</span><span class="c0">():<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;Student.query.all()<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">getStudentById</span><span class="c0">(id):<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;Student.query.get(id)<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">createStudent</span><span class="c0">(studentNo, studentName, address):<br> &nbsp; &nbsp;student = Student(studentNo, studentName, address)<br> &nbsp; &nbsp;db.session.add(student)<br> &nbsp; &nbsp;db.session.commit()<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;student<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">updateStudent</span><span class="c0">(id, studentNo, studentName, address):<br> &nbsp; &nbsp;student = Student.query.get(id)<br> &nbsp; &nbsp;student.studentNo = studentNo<br> &nbsp; &nbsp;student.studentName = studentName<br> &nbsp; &nbsp;student.address = address<br> &nbsp; &nbsp;db.session.commit()<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;student<br> &nbsp; &nbsp; &nbsp; &nbsp;<br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">deleteStudent</span><span class="c0">(id):<br> &nbsp; &nbsp;student = Student.query.get(id)<br> &nbsp; &nbsp;db.session.delete(student)<br> &nbsp; &nbsp;db.session.commit()<br><br>db.create_all()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">db_service.py</span></p><p class="c25"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>C&aacute;c ch&#7913;c n&#259;ng trong file </span><span class="c21">db_service.py</span><span class="c5">&nbsp;&#273;&atilde; &#273;&#432;&#7907;c m&ocirc; t&#7843; trong ph&#7847;n l&agrave;m vi&#7879;c v&#7899;i flask_sqlalchemy.</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><h3 class="c12" id="h.zagvrvgrj39h"><span class="c37 c32">X&acirc;y d&#7921;ng m&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh</span></h3><p class="c2"><span class="c5"></span></p><p class="c7"><span>M&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh hi&#7875;n th&#7883; to&agrave;n b&#7897; c&aacute;c h&#7885;c sinh c&oacute; trong c&#417; s&#7903; d&#7919; li&#7879;u. Do ch&#432;a c&oacute; ch&#7913;c n&#259;ng th&ecirc;m m&#7899;i th&ocirc;ng tin h&#7885;c sinh tr&ecirc;n giao di&#7879;n, ch&uacute;ng ta d&ugrave;ng python shell &#273;&#7875; th&ecirc;m m&#7899;i b&#7857;ng tay m&#7897;t s&#7889; b&#7843;n ghi tr&#432;&#7899;c &#273;&#7875; l&agrave;m d&#7919; li&#7879;u test:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; import db_service</span></p><p class="c2 c11"><span class="c13"></span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db_service.createStudent(&#39;101&#39;, &#39;Nguy&#7877;n V&#259;n An&#39;, &#39;H&agrave; N&#7897;i&#39;)</span></p><p class="c7 c11"><span class="c13">&gt;&gt;&gt; db_service.createStudent(&#39;102&#39;, &#39;Nguy&#7877;n Th&#7883; B&igrave;nh&#39;, &#39;TP.HCM&#39;)</span></p><p class="c2"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">H&agrave;m x&#7917; l&yacute; endpoint trong file app.py nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.924d34598f531833a2a3ab137c9ae508ccd07237"></a><a id="t.14"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, render_template<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;config </span><span class="c15 c4">import</span><span class="c0">&nbsp;app<br></span><span class="c15 c4">import</span><span class="c0">&nbsp;db_service<br><br></span><span class="c10">@app.route(&#39;/&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">list_student</span><span class="c0">():<br> &nbsp; &nbsp;studentList = db_service.getAllStudents()<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&quot;list_student.html&quot;</span><span class="c0">, studentList=studentList)<br> &nbsp; <br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run(debug = </span><span class="c15 c4">True</span><span class="c0">)</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c21 c16">app.py</span><span class="c14">&nbsp;v&#7899;i ch&#7913;c n&#259;ng hi&#7875;n th&#7883; danh s&aacute;ch h&#7885;c sinh</span></p><p class="c25"><span class="c14"></span></p><p class="c25"><span class="c14"></span></p><p class="c7"><span>File template cho m&agrave;n h&igrave;nh danh s&aacute;ch &#273;&#432;&#7907;c &#273;&#7863;t &#7903; &#273;&#432;&#7901;ng d&#7851;n </span><span class="c21">templates/list_student.html</span><span class="c5">&nbsp;v&#7899;i n&#7897;i dung nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><a id="t.973ef760189576564816bafd85a65f7e6e980534"></a><a id="t.15"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">{% if studentList %}<br> &nbsp;&lt;</span><span class="c3">table</span><span class="c0">&nbsp;border=</span><span class="c18 c16">1</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Student Number&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Student Name&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Address&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp;{% for student in studentList %} &nbsp;<br> &nbsp; &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.studentNo }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.studentName }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.address }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt; &nbsp; &nbsp;<br> &nbsp;{% endfor %}<br> &nbsp;&lt;/</span><span class="c3">table</span><span class="c0">&gt; &nbsp;<br>{% else %}<br> &nbsp;&lt;</span><span class="c3">p</span><span class="c0">&gt;No student available.&lt;/</span><span class="c3">p</span><span class="c0">&gt;<br>{% endif %}</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c25"><span class="c14"></span></p><p class="c27"><span class="c16">File </span><span class="c13">templates/list_student.html</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Kh&#7903;i &#273;&#7897;ng &#7913;ng d&#7909;ng (python app.py), truy nh&#7853;p v&agrave;o &#273;&#7883;a ch&#7881; </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://localhost:5000&amp;sa=D&amp;ust=1550421914892000">http://localhost:5000</a></span><span class="c5">&nbsp;ch&uacute;ng ta s&#7869; th&#7845;y m&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh nh&#432; sau:</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c23"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 535.00px; height: 207.00px;"><img alt="" src="images/image6.png" style="width: 535.00px; height: 207.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c41"><span class="c14">M&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh (draft)</span></p><p class="c25 c8"><span class="c14"></span></p><h3 class="c12" id="h.c0zglmba22bq"><span class="c37 c32">M&agrave;n h&igrave;nh th&ecirc;m m&#7899;i ch&#7881;nh s&#7917;a th&ocirc;ng tin h&#7885;c sinh</span></h3><p class="c7"><span>Tr&#432;&#7899;c h&#7871;t , ch&uacute;ng ta t&#7841;o m&#7897;t form th&ocirc;ng tin h&#7885;c sinh trong file </span><span class="c21">templates/add_edit_student.html</span><span class="c5">:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.49d0b4492606c9866d00b5ffd871fb01c69a1b45"></a><a id="t.16"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">&lt;</span><span class="c3">h3</span><span class="c0">&gt;Student information&lt;/</span><span class="c3">h3</span><span class="c0">&gt;<br><br>&lt;</span><span class="c3">div</span><span class="c0">&nbsp;id=</span><span class="c18 c16">&#39;error_list&#39;</span><span class="c0">&gt;<br> {% if errorList %}<br> &nbsp; &lt;</span><span class="c3">ul</span><span class="c0">&gt;<br> &nbsp; &nbsp; {% for error in errorList %} &nbsp;<br> &nbsp; &nbsp; &nbsp; &lt;</span><span class="c3">li</span><span class="c0">&nbsp;style=</span><span class="c18 c16">&#39;color:red&#39;</span><span class="c0">&gt;{{ error }}&lt;/</span><span class="c3">li</span><span class="c0">&gt;<br> &nbsp; &nbsp; {% endfor %} &nbsp; &nbsp;<br> &nbsp; &lt;/</span><span class="c3">ul</span><span class="c0">&gt;<br> {% endif %}<br>&lt;/</span><span class="c3">div</span><span class="c0">&gt;<br><br>&lt;</span><span class="c3">form</span><span class="c0">&nbsp;method=</span><span class="c18 c16">&quot;post&quot;</span><span class="c0">&nbsp;enctype=</span><span class="c18 c16">&#39;multipart/form-data&#39;</span><span class="c0">&gt;<br>&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;hidden&#39;</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;studentId&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;{{ form.studentId }}&#39;</span><span class="c0">&gt;<br>&lt;</span><span class="c3">table</span><span class="c0">&gt;<br> &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;Student Number&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">input</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;studentNo&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;{{ form.studentNo }}&#39;</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;Student Name&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">input</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;studentName&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;{{ form.studentName }}&#39;</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;Address&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">input</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;address&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;{{ form.address }}&#39;</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;Profile picture&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;file&#39;</span><span class="c0">&nbsp;name=</span><span class="c18 c16">&#39;profilePicture&#39;</span><span class="c0">&gt;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">table</span><span class="c0">&gt;<br>&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;submit&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;Save&#39;</span><span class="c0">&gt;<br>&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;button&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;Back&#39;</span><span class="c0">&nbsp;onclick=</span><span class="c18 c16">&#39;location.href=&quot;/&quot;&#39;</span><span class="c0">&gt;<br>&lt;/</span><span class="c3">form</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c25"><span class="c5"></span></p><p class="c7 c23"><span class="c16">File </span><span class="c13">templates/add_edit_student.html</span></p><p class="c25"><span class="c13"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Trong form nh&#7853;p th&ocirc;ng tin, c&oacute; c&aacute;c tr&#432;&#7901;ng : m&atilde; h&#7885;c sinh, t&ecirc;n, &#273;&#7883;a ch&#7881; v&agrave; &#7843;nh &#273;&#7841;i di&#7879;n. Sau khi c&oacute; form html n&agrave;y, ch&uacute;ng ta th&ecirc;m v&agrave;o file </span><span class="c21">forms.py</span><span class="c5">&nbsp;m&#7897;t class &#273;&#7875; ch&#7913;a c&aacute;c th&ocirc;ng tin khi form submit l&ecirc;n server:</span></p><p class="c2"><span class="c5"></span></p><a id="t.9802bbd86f77ec718a765402e586da1090cb1e0a"></a><a id="t.17"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">import</span><span class="c0">&nbsp;os<br></span><span class="c15 c4">import</span><span class="c0">&nbsp;db_service<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;config </span><span class="c15 c4">import</span><span class="c0">&nbsp;app<br><br></span><span class="c15 c4">class</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">StudentForm</span><span class="c0">():<br><br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">__init__</span><span class="c0">(self, request=None, dbModel=None):<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;request:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentId = request.form[</span><span class="c18 c16">&#39;studentId&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo = request.form[</span><span class="c18 c16">&#39;studentNo&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentName = request.form[</span><span class="c18 c16">&#39;studentName&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.address = request.form[</span><span class="c18 c16">&#39;address&#39;</span><span class="c0">]<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;file = request.files.get(</span><span class="c18 c16">&#39;profilePicture&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;file </span><span class="c15 c4">and</span><span class="c0">&nbsp;file.filename != </span><span class="c18 c16">&#39;&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.profilePictureFile = file<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.profilePictureFile = </span><span class="c15 c4">None</span><span class="c0"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">elif</span><span class="c0">&nbsp;dbModel:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentId = dbModel.id<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo = dbModel.studentNo<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentName = dbModel.studentName<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.address = dbModel.address<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">validate</span><span class="c0">(self):<br> &nbsp; &nbsp; &nbsp; &nbsp;errorList = []<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;self.studentNo:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList.append(</span><span class="c18 c16">&#39;Student number is required&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;self.studentName:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList.append(</span><span class="c18 c16">&#39;Student name is required&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;self.address:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList.append(</span><span class="c18 c16">&#39;Address is required&#39;</span><span class="c0">)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;self.studentId </span><span class="c15 c4">and</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;self.profilePictureFile:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList.append(</span><span class="c18 c16">&#39;Profile picture is required&#39;</span><span class="c0">) &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;errorList<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">save</span><span class="c0">(self):<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0 c32">&nbsp;self.studentId:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;student = db_service.updateStudent(</span></p><p class="c9"><span class="c0 c32">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentId, </span></p><p class="c9"><span class="c0 c32">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo, </span></p><p class="c9"><span class="c0 c32">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentName, </span></p><p class="c9"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.address)<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">else</span><span class="c0 c32">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;student = db_service.createStudent(</span></p><p class="c9"><span class="c0 c32">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentNo, </span></p><p class="c9"><span class="c0 c32">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.studentName, </span></p><p class="c9"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.address)<br> &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;student </span><span class="c15 c4">and</span><span class="c0">&nbsp;self.profilePictureFile:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.profilePictureFile.save(os.path.join(app.config[</span><span class="c18 c16">&#39;IMG_DIR&#39;</span><span class="c0">], str(student.id) + </span><span class="c18 c16">&#39;.jpg&#39;</span><span class="c0">))</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c13">forms.py</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Ti&#7871;p theo, ch&uacute;ng ta b&#7893; sung c&aacute;c h&agrave;m x&#7917; l&yacute; request trong </span><span class="c21">app.py </span><span class="c5">:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.2885c41528bd232225ae6cf2244ca44ac2c8d326"></a><a id="t.18"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, render_template, request, redirect, url_for, jsonify<br></span><span class="c15 c4">import</span><span class="c0">&nbsp;traceback<br></span><span class="c15 c4">import</span><span class="c0">&nbsp;time<br><br></span><span class="c15 c4">from</span><span class="c0">&nbsp;forms </span><span class="c15 c4">import</span><span class="c0">&nbsp;StudentForm<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;config </span><span class="c15 c4">import</span><span class="c0">&nbsp;app<br></span><span class="c15 c4">import</span><span class="c0">&nbsp;db_service<br><br></span><span class="c10">@app.route(&#39;/student/add_edit/&lt;int:studentId&gt;&#39;, methods = [&#39;GET&#39;, &#39;POST&#39;])</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">add_edit_student</span><span class="c0">(studentId):<br> &nbsp; &nbsp;errorList = []<br> &nbsp; &nbsp;form = StudentForm()<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;request.method == </span><span class="c18 c16">&#39;POST&#39;</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">try</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;form = StudentForm(request)<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList = form.validate()<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;</span><span class="c15 c4">not</span><span class="c0">&nbsp;errorList:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;student = form.save() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;redirect(url_for(</span><span class="c18 c16">&#39;list_student&#39;</span><span class="c0">))<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">except</span><span class="c0">&nbsp;Exception </span><span class="c15 c4">as</span><span class="c0">&nbsp;e:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;traceback.print_exc()<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;errorList.append(str(e))<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">elif</span><span class="c0">&nbsp;studentId &gt; 0:<br> &nbsp; &nbsp; &nbsp; &nbsp;student = db_service.getStudentById(studentId)<br> &nbsp; &nbsp; &nbsp; &nbsp;form = StudentForm(dbModel=student)<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&#39;add_edit_student.html&#39;</span><span class="c0">, form=form, errorList=errorList)<br> &nbsp; &nbsp;<br></span><span class="c10">@app.route(&#39;/student/delete/&lt;int:studentId&gt;&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">delete_student</span><span class="c0">(studentId):<br> &nbsp; &nbsp;</span><span class="c15 c4">try</span><span class="c0">:<br> &nbsp; &nbsp; &nbsp; &nbsp;db_service.deleteStudent(studentId)<br> &nbsp; &nbsp;</span><span class="c15 c4">except</span><span class="c0">&nbsp;Exception:<br> &nbsp; &nbsp; &nbsp; &nbsp;traceback.print_exc() &nbsp; &nbsp; &nbsp; &nbsp;<br><br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;redirect(url_for(</span><span class="c18 c16">&#39;list_student&#39;</span><span class="c0">))<br><br></span><span class="c10">@app.route(&#39;/&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">list_student</span><span class="c0">():<br> &nbsp; &nbsp;studentList = db_service.getAllStudents()<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;render_template(</span><span class="c18 c16">&quot;list_student.html&quot;</span><span class="c0">, studentList=studentList, time = int(time.time()))<br> &nbsp; <br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run(debug = </span><span class="c15 c4">True</span><span class="c0">)</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c21 c16">app.py </span><span class="c14">sau khi b&#7893; sung c&aacute;c h&agrave;m x&#7917; l&yacute; request th&ecirc;m m&#7899;i/ch&#7881;nh s&#7917;a</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Cu&#7889;i c&ugrave;ng update file </span><span class="c21">template/list_student.html</span><span class="c5">&nbsp;&#273;&#7875; link m&agrave;n h&igrave;nh danh s&aacute;ch sang m&agrave;n h&igrave;nh th&ecirc;m m&#7899;i/ch&#7881;nh s&#7917;a:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.2ff71bc548cb8b6af90bbe5847025596cdf6991f"></a><a id="t.19"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c0">{% if studentList %}<br> &nbsp;&lt;</span><span class="c3">table</span><span class="c0">&nbsp;border=</span><span class="c18 c16">1</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Student Number&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Student Name&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Address&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;Profile Picture&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">th</span><span class="c0">&gt;&lt;/</span><span class="c3">th</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp;{% for student in studentList %} &nbsp;<br> &nbsp; &nbsp;&lt;</span><span class="c3">tr</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.studentNo }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.studentName }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; {{ student.address }} &lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt; &lt;</span><span class="c3">image</span><span class="c0">&nbsp;width=</span><span class="c18 c16">&quot;256&quot;</span><span class="c0">&nbsp;src=</span><span class="c18 c16">&#39;/static/images/{{student.id}}.jpg?t={{time}}&#39;</span><span class="c0">&gt;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">a</span><span class="c0">&nbsp;href=</span><span class="c18 c16">&#39;{{ url_for(&quot;add_edit_student&quot;, studentId=student.id) }}&#39;</span><span class="c0">&gt;Edit&lt;/</span><span class="c3">a</span><span class="c0">&gt; |<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;</span><span class="c3">a</span><span class="c0">&nbsp;href=</span><span class="c18 c16">&#39;javascript:confirmDelete(&quot;{{ url_for(&quot;delete_student&quot;, studentId=student.id) }}&quot;)&#39;</span><span class="c0">&gt;Delete&lt;/</span><span class="c3">a</span><span class="c0">&gt; &nbsp;<br> &nbsp; &nbsp; &nbsp;&lt;/</span><span class="c3">td</span><span class="c0">&gt;<br> &nbsp; &nbsp;&lt;/</span><span class="c3">tr</span><span class="c0">&gt; &nbsp; &nbsp;<br> &nbsp;{% endfor %}<br> &nbsp;&lt;/</span><span class="c3">table</span><span class="c0">&gt; &nbsp;<br> &nbsp;<br> &nbsp;&lt;</span><span class="c3">script</span><span class="c0">&gt;<br> &nbsp; &nbsp;</span><span class="c15 c4">function</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">confirmDelete</span><span class="c0">(url) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">(confirm(</span><span class="c18 c16">&#39;Do you want to delete?&#39;</span><span class="c0">)){<br> &nbsp; &nbsp; &nbsp; &nbsp;location.href = url;<br> &nbsp; &nbsp; &nbsp;} &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;}<br> &nbsp;&lt;/</span><span class="c3">script</span><span class="c0">&gt;<br>{% else %}<br> &nbsp;&lt;</span><span class="c3">p</span><span class="c0">&gt;No student available.&lt;/</span><span class="c3">p</span><span class="c0">&gt;<br>{% endif %}<br><br>&lt;</span><span class="c3">br</span><span class="c0">&gt;<br>&lt;</span><span class="c3">input</span><span class="c0">&nbsp;type=</span><span class="c18 c16">&#39;button&#39;</span><span class="c0">&nbsp;value=</span><span class="c18 c16">&#39;Add Student&#39;</span><span class="c0">&nbsp;<br> &nbsp; onclick=</span><span class="c18 c16">&#39;location.href=&quot;{{ url_for(&quot;add_edit_student&quot;, studentId=0) }}&quot;&#39;</span><span class="c0">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c16">File </span><span class="c21 c16">templates/list_student.html</span><span class="c14">&nbsp;sau khi update</span></p><p class="c25"><span class="c14"></span></p><p class="c2"><span class="c14"></span></p><p class="c7"><span class="c5">Kh&#7903;i &#273;&#7897;ng l&#7841;i &#7913;ng d&#7909;ng, v&agrave;o m&agrave;n h&igrave;nh danh s&aacute;ch ch&uacute;ng ta s&#7869; th&#7845;y nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 699.00px; height: 641.00px;"><img alt="" src="images/image12.png" style="width: 699.00px; height: 641.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">M&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh sau khi update</span></p><p class="c25"><span class="c14"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Click v&agrave;o c&aacute;c link th&ecirc;m m&#7899;i ho&#7863;c ch&#7881;nh s&#7917;a, ch&uacute;ng ta s&#7869; sang m&agrave;n h&igrave;nh th&ocirc;ng tin h&#7885;c sinh &nbsp;nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 714.00px; height: 343.00px;"><img alt="" src="images/image10.png" style="width: 714.00px; height: 343.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c7 c29"><span class="c14">M&agrave;n h&igrave;nh th&ecirc;m m&#7899;i/ch&#7881;nh s&#7917;a th&ocirc;ng tin h&#7885;c sinh</span></p><p class="c25"><span class="c14"></span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Sau khi update &#7843;nh profile cho c&aacute;c h&#7885;c sinh, quay l&#7841;i m&agrave;n h&igrave;nh danh s&aacute;ch ch&uacute;ng ta s&#7869; th&#7845;y c&oacute; d&#7841;ng nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 691.00px; height: 441.00px;"><img alt="" src="images/image4.png" style="width: 691.00px; height: 441.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c5"></span></p><p class="c25"><span class="c14"></span></p><p class="c7 c29"><span class="c14">M&agrave;n h&igrave;nh danh s&aacute;ch h&#7885;c sinh sau khi update &#7843;nh profile</span></p><p class="c25"><span class="c14"></span></p><h1 class="c44" id="h.yuvcg1skf970"><span class="c31">X&acirc;y d&#7921;ng webservice v&#7899;i flask</span></h1><p class="c7"><span>Flask cho ph&eacute;p x&acirc;y d&#7921;ng c&aacute;c webservice m&#7897;t c&aacute;ch nhanh ch&oacute;ng. &#272;&#7875; t&#7841;o m&#7897;t webservice v&#7899;i Flask, s&#7917; d&#7909;ng c&aacute;ch khai b&aacute;o c&aacute;c endpoint theo GET/POST nh&#432; trong ph&#7847;n tr&#432;&#7899;c, ch&#7881; kh&aacute;c l&agrave; khi tr&#7843; k&#7871;t qu&#7843; v&#7873;, th&igrave; d&ugrave;ng h&agrave;m </span><span class="c4 c43">jsonify</span><span>&nbsp;&#273;&#7875; chuy&#7875;n d&#7919; li&#7879;u sang d&#7841;ng JSON. Ngo&agrave;i ra h&agrave;m </span><span class="c21">jsonify</span><span class="c5">&nbsp;t&#7921; &#273;&#7897;ng th&ecirc;m Content-Type cho response tr&#7843; v&#7873; l&agrave; application/json.</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">V&iacute; d&#7909;:</span></p><p class="c2"><span class="c5"></span></p><a id="t.7614820619fddef9aa5683a3708fa8f40c6e602d"></a><a id="t.20"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, jsonify<br>app = Flask(__name__)<br><br><br>app = Flask(__name__)<br><br></span><span class="c10">@app.route(&#39;/list_student&#39;)</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">list_student_api</span><span class="c0">():<br> &nbsp; &nbsp;studentList = [<br> &nbsp; &nbsp; &nbsp; &nbsp;{</span><span class="c18 c16">&#39;id&#39;</span><span class="c0">&nbsp;: 1, </span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;: </span><span class="c18 c16">&#39;Nguy&#7877;n V&#259;n An&#39;</span><span class="c0">},<br> &nbsp; &nbsp; &nbsp; &nbsp;{</span><span class="c18 c16">&#39;id&#39;</span><span class="c0">&nbsp;: 2, </span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;: </span><span class="c18 c16">&#39;Nguy&#7877;n Th&#7883; Binh&#39;</span><span class="c0">}, &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;]<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;jsonify({</span><span class="c18 c16">&#39;students&#39;</span><span class="c0">&nbsp;: studentList})<br><br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; app.run(debug = </span><span class="c15 c4">True</span><span class="c0">)</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c14">T&#7841;o m&#7897;t webservice &#273;&#417;n gi&#7843;n v&#7899;i flask</span></p><p class="c25"><span class="c14"></span></p><h2 class="c30" id="h.coamxn57oiwu"><span class="c28">Authentication v&#7899;i flask-jwt</span></h2><p class="c7"><span class="c5">JWT (Json web tokens) l&agrave; ph&#432;&#417;ng ph&aacute;p authentication th&#432;&#7901;ng &#273;&#432;&#7907;c s&#7917; d&#7909;ng trong c&aacute;c webservice. Tr&igrave;nh t&#7921; c&aacute;c b&#432;&#7899;c authentication v&#7899;i JWT nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_kmpse1je8ztd-0 start"><li class="c7 c20 c8"><span class="c5">Ban &#273;&#7847;u client g&#7917;i th&ocirc;ng tin &#273;&#259;ng nh&#7853;p (username/password) l&ecirc;n server, server x&aacute;c th&#7921;c, n&#7871;u &#273;&uacute;ng s&#7869; tr&#7843; v&#7873; token </span></li></ul><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_kmpse1je8ztd-0"><li class="c7 c20 c8"><span class="c5">Sau khi client nh&#7853;n token s&#7869; l&#432;u gi&#7919; cho c&aacute;c l&#7847;n g&#7885;i API sau. M&#7895;i l&#7847;n g&#7885;i API, client ph&#7843;i g&#7917;i token (&#273;&#7863;t trong tr&#432;&#7901;ng Authorization c&#7911;a request header), khi server nh&#7853;n request s&#7869; ki&#7875;m tra token c&oacute; h&#7907;p l&#7879; kh&ocirc;ng tr&#432;&#7899;c khi cho ph&eacute;p truy nh&#7853;p &#273;&#7871;n API</span></li></ul><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_kmpse1je8ztd-0"><li class="c7 c20 c8"><span class="c5">Sau m&#7897;t th&#7901;i gian, token s&#7869; h&#7871;t hi&#7879;u l&#7921;c, client ph&#7843;i refresh l&#7841;i &#273;&#7875; l&#7845;y token m&#7899;i</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">&#272;&#7875; s&#7917; d&#7909;ng JWT v&#7899;i flask, c&#7847;n c&agrave;i &#273;&#7863;t Flask-JWT:</span></p><p class="c2"><span class="c5"></span></p><p class="c7 c8"><span class="c13">pip install Flask-JWT</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">&#272;&#7875; th&#7921;c hi&#7879;n authentication, c&#7847;n c&oacute; danh s&aacute;ch username/password t&#432;&#417;ng &#7913;ng v&#7899;i c&aacute;c user &#273;&#432;&#7907;c ph&eacute;p g&#7885;i API. Th&ocirc;ng th&#432;&#7901;ng danh s&aacute;ch n&agrave;y l&#432;u trong database, &#7903; v&iacute; d&#7909; minh h&#7885;a d&#432;&#7899;i &#273;&acirc;y, ch&uacute;ng ta l&#432;u th&ocirc;ng user trong m&#7897;t m&#7843;ng c&#7911;a ch&#432;&#417;ng tr&igrave;nh:</span></p><p class="c2"><span class="c5"></span></p><p class="c1"><span class="c13">class User(object):</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; def __init__(self, id, username, password):</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; &nbsp; &nbsp; self.id = id</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; &nbsp; &nbsp; self.username = username</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; &nbsp; &nbsp; self.password = password</span></p><p class="c2 c34"><span class="c13"></span></p><p class="c1"><span class="c13">users = [</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; User(1, &#39;admin&#39;, &#39;abc@123&#39;),</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; User(2, &#39;guest&#39;, &#39;1234&#39;),</span></p><p class="c1"><span class="c13">]</span></p><p class="c2 c34"><span class="c13"></span></p><p class="c1"><span class="c13">username_table = {u.username: u for u in users}</span></p><p class="c1"><span class="c13">userid_table = {u.id : u for u in users}</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7"><span class="c5">&#272;&#7875; th&#7921;c hi&#7879;n authentication v&#7899;i flask-jwt, c&#7847;n cung c&#7845;p 2 h&agrave;m:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_bibu5p8er7uj-0 start"><li class="c7 c20 c8"><span>H&agrave;m </span><span class="c21">authenticate</span><span class="c5">&nbsp;: ki&#7875;m tra username/password do client g&#7917;i &#273;&#7871;n (khi l&#7845;y token) c&oacute; h&#7907;p l&#7879; kh&ocirc;ng. H&agrave;m n&agrave;y c&oacute; c&#7845;u tr&uacute;c nh&#432; sau:</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c1"><span class="c13">def authenticate(username, password):</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; if isCorrect(username, password):</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; &nbsp; &nbsp; return User(username=username)</span></p><p class="c7 c11"><span class="c5">&nbsp; &nbsp; </span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span>Trong tr&#432;&#7901;ng h&#7907;p username/password h&#7907;p l&#7879;, h&agrave;m </span><span class="c21">authenticate</span><span class="c5">&nbsp;c&#7847;n tr&#7843; v&#7873; &#273;&#7889;i t&#432;&#7907;ng User t&#432;&#417;ng &#7913;ng v&#7899;i username/password &#273;&oacute;. &#272;&#7889;i t&#432;&#7907;ng User n&agrave;y c&oacute; th&#7875; c&oacute; c&aacute;c tr&#432;&#7901;ng th&ocirc;ng tin t&ugrave;y &yacute;, nh&#432;ng b&#7855;t bu&#7897;c ph&#7843;i c&oacute; tr&#432;&#7901;ng id (s&#7869; &#273;&#432;&#7907;c d&ugrave;ng &#7903; d&#432;&#7899;i)</span></p><p class="c2 c11"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_bibu5p8er7uj-0"><li class="c7 c20 c8"><span class="c5">H&agrave;m identity : l&#7845;y ra th&ocirc;ng tin c&#7911;a m&#7897;t user d&#7921;a tr&ecirc;n id, h&agrave;m n&agrave;y c&oacute; c&#7845;u tr&uacute;c nh&#432; sau:</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c1"><span class="c13">def identity(payload):</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; userid = payload[&#39;identity&#39;]</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; return User(id=userid)</span></p><p class="c2 c11"><span class="c5"></span></p><p class="c7 c8"><span>Khi m&#7897;t user &#273;&#259;ng nh&#7853;p th&agrave;nh c&ocirc;ng v&agrave; nh&#7853;n token, Flask-jwt s&#7869; l&#432;u l&#7841;i th&ocirc;ng tin (userid, token) trong b&#7897; nh&#7899; &#273;&#7875; authentication cho c&aacute;c l&#7847;n sau. Khi client g&#7885;i API &#7903; c&aacute;c l&#7847;n ti&#7871;p theo, server d&#7921;a v&agrave;o token m&agrave; client g&#7917;i l&ecirc;n &#273;&#7875; truy ng&#432;&#7907;c ra user &#273;ang th&#7921;c hi&#7879;n request (th&ocirc;ng tin n&agrave;y &#273;&#432;&#7907;c n&#7857;m trong m&#7897;t bi&#7871;n &#273;&#432;&#7907;c &#273;&#7863;t t&ecirc;n l&agrave; </span><span class="c21">current_identity</span><span class="c5">&nbsp;v&agrave; c&oacute; th&#7875; &#273;&#432;&#7907;c khai th&aacute;c trong h&agrave;m x&#7917; l&yacute; c&#7911;a API)</span></p><p class="c2 c11"><span class="c5"></span></p><p class="c7"><span>Sau khi &#273;&atilde; cung c&#7845;p 2 h&agrave;m </span><span class="c21">authenticate</span><span>&nbsp;v&agrave; </span><span class="c21">identity</span><span class="c5">&nbsp;&#7903; tr&ecirc;n, c&aacute;c b&#432;&#7899;c c&#7847;n th&#7921;c hi&#7879;n &#273;&#7875; th&ecirc;m ch&#7913;c n&#259;ng authentication cho m&#7897;t API nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_cuzzt0xtb4ti-0 start"><li class="c7 c20 c8"><span class="c5">T&#7841;o m&#7899;i m&#7897;t &#273;&#7889;i t&#432;&#7907;ng jwt:</span></li></ul><p class="c2 c8"><span class="c5"></span></p><p class="c1"><span class="c13">from flask_jwt import JWT</span></p><p class="c1"><span class="c13">jwt = JWT(app, authenticate, identity)</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_iv67mwnkt0ou-0 start"><li class="c7 c20 c8"><span>Th&ecirc;m annotation </span><span class="c21">@jwt_required()</span><span class="c5">&nbsp;v&agrave;o ph&iacute;a tr&#432;&#7899;c c&aacute;c h&agrave;m x&#7917; l&yacute; c&#7911;a c&aacute;c API c&#7847;n authentication:</span></li></ul><p class="c2 c8"><span class="c5"></span></p><p class="c1"><span class="c13">from flask_jwt import jwt_required, current_identity</span></p><p class="c2 c34"><span class="c13"></span></p><p class="c1"><span class="c13">@app.route(&#39;/path&#39;)</span></p><p class="c1"><span class="c13">@jwt_required()</span></p><p class="c1"><span class="c13">def api():</span></p><p class="c1"><span class="c13">&nbsp; &nbsp; print(&#39;Request from user : &#39;, current_identity.id)</span></p><p class="c1"><span class="c13">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span>B&ecirc;n trong h&agrave;m x&#7917; l&yacute; c&#7911;a API, bi&#7871;n </span><span class="c21">current_identity</span><span class="c5">&nbsp;c&oacute; th&#7875; &#273;&#432;&#7907;c d&ugrave;ng &#273;&#7875; l&#7845;y th&ocirc;ng tin v&#7873; user &#273;ang th&#7921;c hi&#7879;n g&#7885;i API.</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7"><span class="c5">Ch&#432;&#417;ng tr&igrave;nh &#273;&#7847;y &#273;&#7911; minh h&#7885;a c&aacute;ch s&#7917; d&#7909;ng Flask-JWT &#273;&#7875; authentication nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><a id="t.5f337c099034cabfd5dc3d8f8ac4eb2d5dffe765"></a><a id="t.21"></a><table class="c6"><tbody><tr class="c26"><td class="c17" colspan="1" rowspan="1"><p class="c9"><span class="c15 c4">from</span><span class="c0">&nbsp;flask </span><span class="c15 c4">import</span><span class="c0">&nbsp;Flask, jsonify<br></span><span class="c15 c4">from</span><span class="c0">&nbsp;flask_jwt </span><span class="c15 c4">import</span><span class="c0">&nbsp;JWT, jwt_required, current_identity<br><br></span><span class="c15 c4">class</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">User</span><span class="c0">(object):<br> &nbsp; &nbsp;</span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">__init__</span><span class="c0">(self, id, username, password):<br> &nbsp; &nbsp; &nbsp; &nbsp;self.id = id<br> &nbsp; &nbsp; &nbsp; &nbsp;self.username = username<br> &nbsp; &nbsp; &nbsp; &nbsp;self.password = password<br><br>users = [<br> &nbsp; &nbsp;User(1, </span><span class="c18 c16">&#39;admin&#39;</span><span class="c0">, </span><span class="c18 c16">&#39;abc@123&#39;</span><span class="c0">),<br> &nbsp; &nbsp;User(2, </span><span class="c18 c16">&#39;guest&#39;</span><span class="c0">, </span><span class="c18 c16">&#39;1234&#39;</span><span class="c0">),<br>]<br><br>username_table = {u.username: u </span><span class="c15 c4">for</span><span class="c0">&nbsp;u </span><span class="c15 c4">in</span><span class="c0">&nbsp;users}<br>userid_table = {u.id : u </span><span class="c15 c4">for</span><span class="c0">&nbsp;u </span><span class="c15 c4">in</span><span class="c0">&nbsp;users}<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">authenticate</span><span class="c0">(username, password):<br> &nbsp; &nbsp;user = username_table.get(username, </span><span class="c15 c4">None</span><span class="c0">)<br> &nbsp; &nbsp;</span><span class="c15 c4">if</span><span class="c0">&nbsp;user </span><span class="c15 c4">and</span><span class="c0">&nbsp;user.password == password:<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;user<br><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">identity</span><span class="c0">(payload):<br> &nbsp; &nbsp;userid = payload[</span><span class="c18 c16">&#39;identity&#39;</span><span class="c0">]<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;userid_table[userid]<br><br>app = Flask(__name__)<br>app.debug = </span><span class="c15 c4">True</span><span class="c0"><br>app.config[</span><span class="c18 c16">&#39;SECRET_KEY&#39;</span><span class="c0">] = </span><span class="c18 c16">&#39;abcdxyztuv&#39;</span><span class="c0"><br><br>jwt = JWT(app, authenticate, identity)<br><br></span><span class="c10">@app.route(&#39;/list_student&#39;)</span><span class="c0"><br></span><span class="c10">@jwt_required()</span><span class="c0"><br></span><span class="c15 c4">def</span><span class="c0">&nbsp;</span><span class="c24 c16 c4">list_student_api</span><span class="c0">():<br> &nbsp; &nbsp;studentList = [<br> &nbsp; &nbsp; &nbsp; &nbsp;{</span><span class="c18 c16">&#39;id&#39;</span><span class="c0">&nbsp;: 1, </span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;: </span><span class="c18 c16">&#39;Nguy&#7877;n V&#259;n An&#39;</span><span class="c0">},<br> &nbsp; &nbsp; &nbsp; &nbsp;{</span><span class="c18 c16">&#39;id&#39;</span><span class="c0">&nbsp;: 2, </span><span class="c18 c16">&#39;name&#39;</span><span class="c0">&nbsp;: </span><span class="c18 c16">&#39;Nguy&#7877;n Th&#7883; Binh&#39;</span><span class="c0">}, &nbsp; &nbsp; &nbsp; &nbsp;<br> &nbsp; &nbsp;]<br> &nbsp; &nbsp;</span><span class="c15 c4">return</span><span class="c0">&nbsp;jsonify({</span><span class="c18 c16">&#39;username&#39;</span><span class="c0">&nbsp;: current_identity.username, </span><span class="c18 c16">&#39;students&#39;</span><span class="c0">&nbsp;: studentList})<br><br></span><span class="c15 c4">if</span><span class="c0">&nbsp;__name__ == </span><span class="c18 c16">&#39;__main__&#39;</span><span class="c0">:<br> &nbsp; &nbsp;app.run()</span></p></td></tr></tbody></table><p class="c2"><span class="c5"></span></p><p class="c27"><span class="c14">Ch&#432;&#417;ng tr&igrave;nh minh h&#7885;a c&aacute;ch s&#7917; d&#7909;ng authentication v&#7899;i Flask-JWT</span></p><p class="c25"><span class="c14"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>Kh&#7903;i &#273;&#7897;ng server, d&ugrave;ng tr&igrave;nh duy&#7879;t &#273;&#7875; truy nh&#7853;p API &#7903; &#273;&#7883;a ch&#7881; </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://localhost:5000/list_student&amp;sa=D&amp;ust=1550421914931000">http://localhost:5000/list_student</a></span><span class="c5">&nbsp;ch&uacute;ng ta s&#7869; th&#7845;y k&#7871;t qu&#7843; nh&#432; sau:</span></p><p class="c2"><span class="c5"></span></p><p class="c2"><span class="c5"></span></p><p class="c8 c25"><span class="c5"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 565.00px; height: 307.00px;"><img alt="" src="images/image2.png" style="width: 565.00px; height: 307.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c27"><span class="c14">L&#7895;i khi truy nh&#7853;p API t&#7915; tr&igrave;nh duy&#7879;t</span></p><p class="c25 c8"><span class="c14"></span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Do kh&ocirc;ng c&oacute; th&ocirc;ng tin &#273;&#259;ng nh&#7853;p n&ecirc;n API kh&ocirc;ng tr&#7843; v&#7873; k&#7871;t qu&#7843; m&agrave; s&#7869; hi&#7879;n th&ocirc;ng b&aacute;o l&#7895;i 401.</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span>&#272;&#7875; th&#7921;c hi&#7879;n test API, c&#7847;n s&#7917; d&#7909;ng m&#7897;t tool REST client, v&iacute; d&#7909; </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=https://www.getpostman.com/&amp;sa=D&amp;ust=1550421914932000">Postman</a></span><span class="c5">.</span></p><p class="c2"><span class="c5"></span></p><p class="c7"><span class="c5">Qu&aacute; tr&igrave;nh g&#7885;i API g&#7891;m c&aacute;c b&#432;&#7899;c:</span></p><p class="c2"><span class="c5"></span></p><ul class="c22 lst-kix_5xw6kslyeabv-0 start"><li class="c7 c20 c8"><span>Th&#7921;c hi&#7879;n POST &#273;&#7871;n &#273;&#7883;a ch&#7881; </span><span class="c33"><a class="c19" href="https://www.google.com/url?q=http://localhost:5000/auth&amp;sa=D&amp;ust=1550421914933000">http://localhost:5000/auth</a></span><span>&nbsp;v&#7899;i n&#7897;i dung (d&#7841;ng contentType l&agrave; </span><span class="c21">application/json</span><span class="c5">) v&#7899;i n&#7897;i dung nh&#432; sau:</span></li></ul><p class="c2"><span class="c5"></span></p><p class="c7 c11"><span class="c13">{</span></p><p class="c7 c11"><span class="c13">&nbsp; &nbsp; &quot;username&quot; : &quot;&lt;username&gt;&quot;,</span></p><p class="c7 c11"><span class="c13">&nbsp; &nbsp; &quot;password&quot; : &quot;&lt;password&gt;&quot;</span></p><p class="c7 c11"><span class="c13">}</span></p><p class="c2 c11"><span class="c32 c21 c42"></span></p><p class="c7 c8"><span class="c5">N&#7871;u th&ocirc;ng tin username/password &#273;&uacute;ng, server s&#7869; tr&#7843; v&#7873; token, v&iacute; d&#7909;:</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span class="c21 c16">{&quot;access_token&quot; : &quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NTAzMTY3NjAsImlhdCI6MTU1MDMxNjQ2MCwibmJmIjoxNTUwMzE2NDYwLCJpZGVudGl0eSI6MX0.TluqwWXl-f9JaLCXpy6AISNSg4KmEF-a0UhKqO7q0XU&quot;}</span><span class="c5">&nbsp;</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 931.00px; height: 456.00px;"><img alt="" src="images/image13.png" style="width: 931.00px; height: 456.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c45"><span class="c14">L&#7845;y token t&#7915; server</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c2 c8"><span class="c5"></span></p><ul class="c22 lst-kix_uhbp3sqigu8a-0 start"><li class="c7 c20 c8"><span class="c5">S&#7917; d&#7909;ng token &#273;&atilde; nh&#7853;n &#273;&#432;&#7907;c &#273;&#7875; g&#7885;i API</span></li></ul><p class="c7 c8"><span>Sau khi &#273;&atilde; c&oacute; token, &#273;&#7875; g&#7885;i API, ngo&agrave;i c&aacute;c tham s&#7889; th&ocirc;ng th&#432;&#7901;ng do API quy &#273;&#7883;nh, c&#7847;n th&ecirc;m v&agrave;o header c&#7911;a request tr&#432;&#7901;ng </span><span class="c21">Authorization</span><span>&nbsp;v&#7899;i n&#7897;i dung c&oacute; gi&aacute; tr&#7883; b&#7857;ng </span><span class="c21">&quot;JWT &quot; + token, </span><span class="c5">c&#7909; th&#7875; &#7903; v&iacute; d&#7909; tr&ecirc;n l&agrave; :</span></p><p class="c2 c8"><span class="c5"></span></p><p class="c7 c8"><span class="c13">JWT eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NTAzMTY3NjAsImlhdCI6MTU1MDMxNjQ2MCwibmJmIjoxNTUwMzE2NDYwLCJpZGVudGl0eSI6MX0.TluqwWXl-f9JaLCXpy6AISNSg4KmEF-a0UhKqO7q0XU</span></p><p class="c2 c8"><span class="c13"></span></p><p class="c2 c8"><span class="c13"></span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 931.00px; height: 452.00px;"><img alt="" src="images/image8.png" style="width: 931.00px; height: 452.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c5"></span></p><p class="c7 c29"><span class="c16">Th&ecirc;m th&ocirc;ng tin Authorization v&agrave;o header request &#273;&#7875; g&#7885;i &#273;&#432;&#7907;c API</span></p></body></html>