<!DOCTYPE html>
<html lang="en">

<head>
  <title>Ebe Arm</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <style>
    .slider {
      width: 85%;
    }
  </style>
</head>

<body>
  <div class="m-3">
    <div class="row">
      <div class="col-3">
        <div class="row">
          <select id="dataSetSel" onchange="changeDataSet(this)" class="form-control">
            <option value="0">Set 1</option>
            <option value="1">Set 2</option>
            <option value="2">Set 3</option>
            <option value="3">Set 4</option>
            <option value="4">Set 5</option>
            <option value="5">Set 5.2</option>
          </select>
        </div>
        <div class="row mt-3">
          <label style="vertical-align: top;">DX</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-500" max="500" value="0" id="dx">
        </div>
        <div class="row">
          <label style="vertical-align: top;">DY</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-500" max="500" value="0" id="dy">
        </div>
        <div class="row">
          <label style="vertical-align: top;">DZ</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-500" max="500" value="0" id="dz">

        </div>
        <div class="row">
          <label style="vertical-align: top;">RX</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-180" max="180" value="0" id="rx">

        </div>
        <div class="row >
          <label style=" vertical-align: top;">RY</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-180" max="180" value="0" id="ry">

        </div>
        <div class="row">
          <label style="vertical-align: top;">RZ</label>
          <input onmousemove="updateScreen()" class="slider" type="range" min="-180" max="180" value="0" id="rz">
        </div>
      </div>
      <div class="col-9" id="screen"></div>
    </div>
  </div>
  <script src="js/three.js"></script>
  <script src="js/STLLoader.js"></script>
  <script src="js/Detector.js"></script>
  <script src="js/OrbitControls.js"></script>
  <script src="js/handLoader.js"></script>

  <script>
    
    function updateScreen() {
      var dx = 0.5 * document.getElementById('dx').value / 1000.0;
      var dy = 0.5 * document.getElementById('dy').value / 1000.0;
      var dz = 0.5 * document.getElementById('dz').value / 1000.0;
      var rx = 0.1 * document.getElementById('rx').value * Math.PI / 180;
      var ry = 0.1 * document.getElementById('ry').value * Math.PI / 180;
      var rz = 0.1 * document.getElementById('rz').value * Math.PI / 180;
      mesh.position.set(dx, dy, dz);
      mesh.rotation.set(rx, ry, rz);
      render();
    }

    async function changeDataSet(sel) {
      location.href = '?set_index=' + sel.value;
    }

    document.getElementById('dataSetSel').value = getParam('set_index') || 0;

  </script>
</body>

</html>